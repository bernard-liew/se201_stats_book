<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 7 Data manipulation - part 2 | A Simple Cookbook for Wrangling and Visualization</title>
<meta name="author" content="Bernard Liew">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 7 Data manipulation - part 2 | A Simple Cookbook for Wrangling and Visualization">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 7 Data manipulation - part 2 | A Simple Cookbook for Wrangling and Visualization">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.14/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet">
<script src="libs/font-awesome-5.13.0/js/script.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
<meta name="description" content='Download and load packages if (!require("pacman")) install.packages("pacman") pacman::p_load(tidyverse, # All purpose wrangling for dataframes        openxlsx,# writing excel documents       ...'>
<meta property="og:description" content='Download and load packages if (!require("pacman")) install.packages("pacman") pacman::p_load(tidyverse, # All purpose wrangling for dataframes        openxlsx,# writing excel documents       ...'>
<meta name="twitter:description" content='Download and load packages if (!require("pacman")) install.packages("pacman") pacman::p_load(tidyverse, # All purpose wrangling for dataframes        openxlsx,# writing excel documents       ...'>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">A Simple Cookbook for Wrangling and Visualization</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Preface</a></li>
<li><a class="" href="get-started.html"><span class="header-section-number">2</span> Getting Started</a></li>
<li><a class="" href="basics.html"><span class="header-section-number">3</span> The Basics</a></li>
<li><a class="" href="NavigatingTheSoftware.html"><span class="header-section-number">4</span> Navigating the Software</a></li>
<li><a class="" href="InputOuput.html"><span class="header-section-number">5</span> Input and Output</a></li>
<li><a class="" href="WRANGLE.html"><span class="header-section-number">6</span> Data manipulation - part 1</a></li>
<li><a class="active" href="WRANGLE2.html"><span class="header-section-number">7</span> Data manipulation - part 2</a></li>
<li><a class="" href="CHAPTER-BAR-GRAPH.html"><span class="header-section-number">8</span> Bar Graphs</a></li>
<li><a class="" href="line-graphs.html"><span class="header-section-number">9</span> Line Graphs</a></li>
<li><a class="" href="your-assignment.html"><span class="header-section-number">10</span> Your Assignment</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/bernard-liew/se201_stats_book/tree/2021_version">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="WRANGLE2" class="section level1" number="7">
<h1>
<span class="header-section-number">7</span> Data manipulation - part 2<a class="anchor" aria-label="anchor" href="#WRANGLE2"><i class="fas fa-link"></i></a>
</h1>
<div id="download-and-load-packages-4" class="section level2 unnumbered">
<h2>Download and load packages<a class="anchor" aria-label="anchor" href="#download-and-load-packages-4"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/trinker/pacman">"pacman"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"pacman"</span><span class="op">)</span></span>
<span><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">tidyverse</span>, <span class="co"># All purpose wrangling for dataframes</span></span>
<span>               <span class="va">openxlsx</span>,<span class="co"># writing excel documents</span></span>
<span>               <span class="va">lubridate</span>,<span class="co"># date-time </span></span>
<span>               <span class="va">tibbletime</span><span class="op">)</span> <span class="co"># moving average for vo2</span></span></code></pre></div>
<pre><code>## [1] "time"     "bf"       "vo2_norm" "rer"      "vo2"      "vco2"     "ve"      
## [8] "hr"</code></pre>
</div>
<div id="WRANGLE2-GATHER" class="section level2" number="7.1">
<h2>
<span class="header-section-number">7.1</span> Gathering<a class="anchor" aria-label="anchor" href="#WRANGLE2-GATHER"><i class="fas fa-link"></i></a>
</h2>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/XVTX1L9iZIo" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<div id="problem-6" class="section level3" number="7.1.1">
<h3>
<span class="header-section-number">7.1.1</span> Problem<a class="anchor" aria-label="anchor" href="#problem-6"><i class="fas fa-link"></i></a>
</h3>
<p>You want to make your data longer. In the data <code>dat_fms_grp</code> (go to the start of this chapter to see this dataâ€™s original shape), you want to merge the 7 columns indicating the 7 FMS tasks into a single column. For this, you can use the <code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer()</a></code> function.</p>
</div>
<div id="solution-6" class="section level3" number="7.1.2">
<h3>
<span class="header-section-number">7.1.2</span> Solution<a class="anchor" aria-label="anchor" href="#solution-6"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_long</span> <span class="op">&lt;-</span> <span class="va">dat_fms_grp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># original data</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="op">-</span><span class="va">id</span>,</span>
<span>              names_to <span class="op">=</span> <span class="st">"task"</span>,</span>
<span>              values_to <span class="op">=</span> <span class="st">"score"</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:500px; overflow-x: scroll; width:100%; ">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
id
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
task
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
score
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
athlete_a
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_a
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_a
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_a
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_a
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_a
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_a
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_b
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_b
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_b
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_b
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_b
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_b
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_b
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_c
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_c
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_c
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_c
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_c
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_c
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_c
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_d
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_d
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_d
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_d
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_d
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_d
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_d
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_e
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_e
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_e
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_e
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_e
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_e
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_e
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_f
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_f
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_f
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_f
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_f
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_f
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_f
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_g
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_g
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_g
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_g
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_g
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_g
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_g
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_h
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_h
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_h
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_h
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_h
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_h
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_h
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_i
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_i
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_i
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_i
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_i
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_i
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_i
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_j
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_j
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_j
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_j
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_j
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_j
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_j
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_k
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_k
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_k
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_k
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_k
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_k
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_k
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_l
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_l
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_l
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_l
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_l
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_l
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_l
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_m
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_m
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_m
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_m
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_m
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_m
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_m
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_n
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_n
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_n
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_n
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_n
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_n
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_n
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_o
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_o
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_o
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_o
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_o
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_o
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_o
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_p
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_p
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_p
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_p
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_p
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_p
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_p
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_q
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_q
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_q
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_q
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_q
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_q
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_q
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_r
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_r
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_r
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_r
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_r
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_r
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_r
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_s
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_s
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_s
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_s
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_s
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_s
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_s
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_t
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_t
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_t
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_t
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_t
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_t
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_t
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_u
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_u
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_u
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_u
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_u
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_u
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_u
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_v
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_v
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_v
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_v
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_v
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_v
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_v
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_w
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_w
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_w
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_w
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_w
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_w
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_w
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_x
</td>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_x
</td>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_x
</td>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_x
</td>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_x
</td>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_x
</td>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
athlete_x
</td>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div id="WRANGLE2-SPREAD" class="section level2" number="7.2">
<h2>
<span class="header-section-number">7.2</span> Spreading<a class="anchor" aria-label="anchor" href="#WRANGLE2-SPREAD"><i class="fas fa-link"></i></a>
</h2>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/utuxfSl1umU" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<div id="problem-7" class="section level3" number="7.2.1">
<h3>
<span class="header-section-number">7.2.1</span> Problem<a class="anchor" aria-label="anchor" href="#problem-7"><i class="fas fa-link"></i></a>
</h3>
<p>You want to make your data wider, in this instance let us look at the <code>dat_fms</code> dataset. You want to have one column indicating the left FMS score, and one indicating the right FMS score. The caveat is that because some tasks in the FMS do not have left and right, we need to remove the tasks in the FMS without a left and right. In this case, we will use the <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> function, which will be discussed in Recipe <a href="WRANGLE2.html#WRANGLE2-FILTER">7.6</a>.</p>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_fms_sub</span> <span class="op">&lt;-</span> <span class="va">dat_fms</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span><span class="va">side</span> <span class="op">!=</span> <span class="st">"c"</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="solution-7" class="section level3" number="7.2.2">
<h3>
<span class="header-section-number">7.2.2</span> Solution<a class="anchor" aria-label="anchor" href="#solution-7"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_wide</span> <span class="op">&lt;-</span> <span class="va">dat_fms_sub</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># original data</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="st">"side"</span>,</span>
<span>              values_from <span class="op">=</span> <span class="st">"score"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
task
</th>
<th style="text-align:right;">
l
</th>
<th style="text-align:right;">
r
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="WRANGLE2-RENAME-VALUES" class="section level2" number="7.3">
<h2>
<span class="header-section-number">7.3</span> Rename values of a variable<a class="anchor" aria-label="anchor" href="#WRANGLE2-RENAME-VALUES"><i class="fas fa-link"></i></a>
</h2>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/duTAu0314og" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<div id="problem-8" class="section level3" number="7.3.1">
<h3>
<span class="header-section-number">7.3.1</span> Problem<a class="anchor" aria-label="anchor" href="#problem-8"><i class="fas fa-link"></i></a>
</h3>
<p>You want to rename some values, either because it is too long, too short, or for other reasons. In this instance, in the <code>dat_fms</code> dataset, you want to call <code>l</code>, <code>left</code>, and <code>r</code>, <code>right</code>.</p>
</div>
<div id="solution-8" class="section level3" number="7.3.2">
<h3>
<span class="header-section-number">7.3.2</span> Solution<a class="anchor" aria-label="anchor" href="#solution-8"><i class="fas fa-link"></i></a>
</h3>
<p>Use the <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> function and the <code><a href="https://dplyr.tidyverse.org/reference/recode.html">recode()</a></code> function. You will learn the <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate ()</a></code> function more in Recipe <a href="WRANGLE2.html#WRANGLE2-NEW-VARIABLES">7.5</a>.</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_fms</span> <span class="op">&lt;-</span> <span class="va">dat_fms</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span>side <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/recode.html">recode</a></span> <span class="op">(</span><span class="va">side</span>, <span class="co"># the variable name</span></span>
<span>                          <span class="st">"l"</span> <span class="op">=</span> <span class="st">"left"</span>, <span class="co"># old label = new label</span></span>
<span>                          <span class="st">"r"</span> <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span><span class="op">)</span> <span class="co"># old label = new label</span></span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
task
</th>
<th style="text-align:left;">
side
</th>
<th style="text-align:right;">
score
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
squat
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:left;">
left
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:left;">
right
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:left;">
left
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:left;">
right
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:left;">
left
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:left;">
right
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:left;">
left
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:left;">
right
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:left;">
left
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:left;">
right
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="WRANGLE2-CHARACTERS-2-FACTORS" class="section level2" number="7.4">
<h2>
<span class="header-section-number">7.4</span> Creating factors<a class="anchor" aria-label="anchor" href="#WRANGLE2-CHARACTERS-2-FACTORS"><i class="fas fa-link"></i></a>
</h2>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/B8WN5PzQRdk" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<div id="problem-9" class="section level3" number="7.4.1">
<h3>
<span class="header-section-number">7.4.1</span> Problem<a class="anchor" aria-label="anchor" href="#problem-9"><i class="fas fa-link"></i></a>
</h3>
<p>You want to create an order in the values of a variable - like small, medium, large.</p>
</div>
<div id="solution-9" class="section level3" number="7.4.2">
<h3>
<span class="header-section-number">7.4.2</span> Solution<a class="anchor" aria-label="anchor" href="#solution-9"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Order of values I desire</span></span>
<span></span>
<span><span class="va">new_lvls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span> <span class="st">"push_up"</span>,<span class="st">"squat"</span>, <span class="st">"rot_stab"</span>, <span class="st">"hurdle"</span>, <span class="st">"lunge"</span>, <span class="st">"leg_raise"</span>,  <span class="st">"shd_mob"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat_fms_relvl</span> <span class="op">&lt;-</span> <span class="va">dat_fms</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span>task <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span> <span class="op">(</span><span class="va">task</span>, levels <span class="op">=</span> <span class="va">new_lvls</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="discussion-2" class="section level3" number="7.4.3">
<h3>
<span class="header-section-number">7.4.3</span> Discussion<a class="anchor" aria-label="anchor" href="#discussion-2"><i class="fas fa-link"></i></a>
</h3>
<p>Why do you need to convert categorical variables to factors? For visualization, the simple reason is that it allows you to control the order in which items appear first to last. Of course, it has important statistical reasons, of which we do not discuss presently.</p>

<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Without factor </span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">dat_fms</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">task</span>, y <span class="op">=</span> <span class="va">score</span>, fill <span class="op">=</span> <span class="va">side</span><span class="op">)</span>, position <span class="op">=</span> <span class="st">"dodge"</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># With factor new levels</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">dat_fms_relvl</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">task</span>, y <span class="op">=</span> <span class="va">score</span>, fill <span class="op">=</span> <span class="va">side</span><span class="op">)</span>, position <span class="op">=</span> <span class="st">"dodge"</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> </span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:FIG-BAR-GRAPH-FACTOR-EFFECTS"></span>
<img src="se201_stats_book_files/figure-html/FIG-BAR-GRAPH-FACTOR-EFFECTS-1.png" alt="Barplots of FMS score on original dat_fms (top); and new dat_fms_relvl when with modified the task variable to be a factor, with new levels (bottom)." width="672"><img src="se201_stats_book_files/figure-html/FIG-BAR-GRAPH-FACTOR-EFFECTS-2.png" alt="Barplots of FMS score on original dat_fms (top); and new dat_fms_relvl when with modified the task variable to be a factor, with new levels (bottom)." width="672"><p class="caption">
Figure 7.1: Barplots of FMS score on original <code>dat_fms</code> (top); and new <code>dat_fms_relvl</code> when with modified the <code>task</code> variable to be a factor, with new levels (bottom).
</p>
</div>
</div>
</div>
<div id="WRANGLE2-NEW-VARIABLES" class="section level2" number="7.5">
<h2>
<span class="header-section-number">7.5</span> Making a new variable<a class="anchor" aria-label="anchor" href="#WRANGLE2-NEW-VARIABLES"><i class="fas fa-link"></i></a>
</h2>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/qyqt0CS19h4" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<div id="problem-10" class="section level3" number="7.5.1">
<h3>
<span class="header-section-number">7.5.1</span> Problem<a class="anchor" aria-label="anchor" href="#problem-10"><i class="fas fa-link"></i></a>
</h3>
<p>You want to create a new column which involves some math between columns</p>
</div>
<div id="solution-10" class="section level3" number="7.5.2">
<h3>
<span class="header-section-number">7.5.2</span> Solution<a class="anchor" aria-label="anchor" href="#solution-10"><i class="fas fa-link"></i></a>
</h3>
<p>Example, you want to create a column called <code>ratio</code> in the <code>dat_vo2</code> dataset, by dividing <code>vo2</code> by <code>vco2</code>.</p>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_vo2</span> <span class="op">&lt;-</span>  <span class="va">dat_vo2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span>ratio <span class="op">=</span> <span class="va">vo2</span><span class="op">/</span><span class="va">vco2</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:right;">
time
</th>
<th style="text-align:right;">
bf
</th>
<th style="text-align:right;">
vo2_norm
</th>
<th style="text-align:right;">
rer
</th>
<th style="text-align:right;">
vo2
</th>
<th style="text-align:right;">
vco2
</th>
<th style="text-align:right;">
ve
</th>
<th style="text-align:right;">
hr
</th>
<th style="text-align:right;">
stage
</th>
<th style="text-align:right;">
ratio
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
21.4
</td>
<td style="text-align:right;">
0.93
</td>
<td style="text-align:right;">
1371
</td>
<td style="text-align:right;">
1272
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
119
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.08
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
0.84
</td>
<td style="text-align:right;">
159
</td>
<td style="text-align:right;">
133
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.20
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
23.5
</td>
<td style="text-align:right;">
0.74
</td>
<td style="text-align:right;">
1506
</td>
<td style="text-align:right;">
1110
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
121
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.36
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
22.4
</td>
<td style="text-align:right;">
0.86
</td>
<td style="text-align:right;">
1437
</td>
<td style="text-align:right;">
1229
</td>
<td style="text-align:right;">
43
</td>
<td style="text-align:right;">
123
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.17
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
15.6
</td>
<td style="text-align:right;">
0.73
</td>
<td style="text-align:right;">
1004
</td>
<td style="text-align:right;">
735
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.37
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
30.5
</td>
<td style="text-align:right;">
0.76
</td>
<td style="text-align:right;">
1960
</td>
<td style="text-align:right;">
1489
</td>
<td style="text-align:right;">
48
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.32
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="discussion-3" class="section level3" number="7.5.3">
<h3>
<span class="header-section-number">7.5.3</span> Discussion<a class="anchor" aria-label="anchor" href="#discussion-3"><i class="fas fa-link"></i></a>
</h3>
<p>There are many math operations you can do including subtraction (<code>-</code>), multiplication (<code>*</code>), addition (<code>+</code>), exponentiation/power to the power of 2 (<code>^2</code>). Let us go crazy and try some random creation of new variables.</p>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_vo2_crazy</span> <span class="op">&lt;-</span>  <span class="va">dat_vo2</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span>vo2_power <span class="op">=</span> <span class="va">vo2</span><span class="op">^</span><span class="fl">3</span>,<span class="co"># vo2 powered to 3 </span></span>
<span>          vco2_mod <span class="op">=</span> <span class="va">vco2</span><span class="op">/</span><span class="fl">3</span>, <span class="co"># vco2 divied by 3</span></span>
<span>          junk <span class="op">=</span> <span class="op">(</span><span class="va">vo2</span><span class="op">+</span> <span class="va">vco2</span><span class="op">)</span><span class="op">/</span> <span class="op">(</span><span class="va">hr</span> <span class="op">+</span> <span class="va">bf</span><span class="op">)</span><span class="op">)</span><span class="co"># divided the sum of vo2 and vco2, and sum of hr and bf</span></span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:right;">
time
</th>
<th style="text-align:right;">
bf
</th>
<th style="text-align:right;">
vo2_norm
</th>
<th style="text-align:right;">
rer
</th>
<th style="text-align:right;">
vo2
</th>
<th style="text-align:right;">
vco2
</th>
<th style="text-align:right;">
ve
</th>
<th style="text-align:right;">
hr
</th>
<th style="text-align:right;">
stage
</th>
<th style="text-align:right;">
ratio
</th>
<th style="text-align:right;">
vo2_power
</th>
<th style="text-align:right;">
vco2_mod
</th>
<th style="text-align:right;">
junk
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
21.4
</td>
<td style="text-align:right;">
0.93
</td>
<td style="text-align:right;">
1371
</td>
<td style="text-align:right;">
1272
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
119
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.08
</td>
<td style="text-align:right;">
2576987811
</td>
<td style="text-align:right;">
424.00
</td>
<td style="text-align:right;">
16.94
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
0.84
</td>
<td style="text-align:right;">
159
</td>
<td style="text-align:right;">
133
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.20
</td>
<td style="text-align:right;">
4019679
</td>
<td style="text-align:right;">
44.33
</td>
<td style="text-align:right;">
1.64
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
23.5
</td>
<td style="text-align:right;">
0.74
</td>
<td style="text-align:right;">
1506
</td>
<td style="text-align:right;">
1110
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
121
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.36
</td>
<td style="text-align:right;">
3415662216
</td>
<td style="text-align:right;">
370.00
</td>
<td style="text-align:right;">
17.32
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
22.4
</td>
<td style="text-align:right;">
0.86
</td>
<td style="text-align:right;">
1437
</td>
<td style="text-align:right;">
1229
</td>
<td style="text-align:right;">
43
</td>
<td style="text-align:right;">
123
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.17
</td>
<td style="text-align:right;">
2967360453
</td>
<td style="text-align:right;">
409.67
</td>
<td style="text-align:right;">
16.98
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
15.6
</td>
<td style="text-align:right;">
0.73
</td>
<td style="text-align:right;">
1004
</td>
<td style="text-align:right;">
735
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.37
</td>
<td style="text-align:right;">
1012048064
</td>
<td style="text-align:right;">
245.00
</td>
<td style="text-align:right;">
11.83
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
30.5
</td>
<td style="text-align:right;">
0.76
</td>
<td style="text-align:right;">
1960
</td>
<td style="text-align:right;">
1489
</td>
<td style="text-align:right;">
48
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.32
</td>
<td style="text-align:right;">
7529536000
</td>
<td style="text-align:right;">
496.33
</td>
<td style="text-align:right;">
22.84
</td>
</tr>
</tbody>
</table></div>
<p>You can even create a new variable, which reflects the present row number (<code>row_id</code>). This row number reflects the number of 5 sec VO2 windows. If there is 10 sec of data collected, there will be two row numbers, Really quite useful for VO2 analysis and cleaning. Here, inside the <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> function, I will be using the function <code><a href="https://dplyr.tidyverse.org/reference/ranking.html">row_number()</a></code> to get the respective number for each row.</p>
<div class="sourceCode" id="cb116"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_vo2</span> <span class="op">&lt;-</span> <span class="va">dat_vo2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span>row_id <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html">row_number</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:right;">
time
</th>
<th style="text-align:right;">
bf
</th>
<th style="text-align:right;">
vo2_norm
</th>
<th style="text-align:right;">
rer
</th>
<th style="text-align:right;">
vo2
</th>
<th style="text-align:right;">
vco2
</th>
<th style="text-align:right;">
ve
</th>
<th style="text-align:right;">
hr
</th>
<th style="text-align:right;">
stage
</th>
<th style="text-align:right;">
ratio
</th>
<th style="text-align:right;">
row_id
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
21.4
</td>
<td style="text-align:right;">
0.93
</td>
<td style="text-align:right;">
1371
</td>
<td style="text-align:right;">
1272
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
119
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.08
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
0.84
</td>
<td style="text-align:right;">
159
</td>
<td style="text-align:right;">
133
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.20
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
23.5
</td>
<td style="text-align:right;">
0.74
</td>
<td style="text-align:right;">
1506
</td>
<td style="text-align:right;">
1110
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
121
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.36
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
22.4
</td>
<td style="text-align:right;">
0.86
</td>
<td style="text-align:right;">
1437
</td>
<td style="text-align:right;">
1229
</td>
<td style="text-align:right;">
43
</td>
<td style="text-align:right;">
123
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.17
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
15.6
</td>
<td style="text-align:right;">
0.73
</td>
<td style="text-align:right;">
1004
</td>
<td style="text-align:right;">
735
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.37
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
30.5
</td>
<td style="text-align:right;">
0.76
</td>
<td style="text-align:right;">
1960
</td>
<td style="text-align:right;">
1489
</td>
<td style="text-align:right;">
48
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.32
</td>
<td style="text-align:right;">
6
</td>
</tr>
</tbody>
</table></div>
<p>For the IMU data, you can automatically find the maximum value of a very long data sequence, and use these values to provide an index of landing impact symmetry.</p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Maximal bad leg impact value</span></span>
<span><span class="va">max_bad_ampl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">bad_vertical_accl</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Maximal good leg impact value</span></span>
<span><span class="va">max_good_ampl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">good_vertical_accl</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb118"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Symmetry index </span></span>
<span></span>
<span><span class="va">symmmetry_index</span> <span class="op">&lt;-</span> </span>
<span>  <span class="op">(</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span> <span class="op">(</span><span class="va">max_bad_ampl</span> <span class="op">-</span> <span class="va">max_good_ampl</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="va">max_bad_ampl</span> <span class="op">+</span> <span class="va">max_good_ampl</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span></span>
<span></span>
<span><span class="va">symmmetry_index</span></span></code></pre></div>
<pre><code>## [1] 69.83277</code></pre>
</div>
</div>
<div id="WRANGLE2-FILTER" class="section level2" number="7.6">
<h2>
<span class="header-section-number">7.6</span> Filtering<a class="anchor" aria-label="anchor" href="#WRANGLE2-FILTER"><i class="fas fa-link"></i></a>
</h2>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/-xKvvvsYAXw" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<p>Filtering is removing rows you do not want and keeping rows you want based on some condition(s). In Recipe <a href="WRANGLE.html#WRANGLE-SLICE">6.3</a>, you learnt the <code><a href="https://dplyr.tidyverse.org/reference/slice.html">slice()</a></code> function. That is for really simple filtering. The <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> function you will learn here gives you more flexibility. Filtering deals with keeping or throwing out <strong>rows</strong> of data. Keeping or throwing out columns of data requires the <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> function, which you learnt in Recipe <a href="WRANGLE.html#WRANGLE-SLICE">6.3</a>.</p>
<div id="WRANGLE2-FILTER-KEEP-CHARACTER" class="section level3" number="7.6.1">
<h3>
<span class="header-section-number">7.6.1</span> Keep rows you want based on condition<a class="anchor" aria-label="anchor" href="#WRANGLE2-FILTER-KEEP-CHARACTER"><i class="fas fa-link"></i></a>
</h3>
<div id="problem-11" class="section level4" number="7.6.1.1">
<h4>
<span class="header-section-number">7.6.1.1</span> Problem<a class="anchor" aria-label="anchor" href="#problem-11"><i class="fas fa-link"></i></a>
</h4>
<p>In the <code>dat_fms</code> dataset, you want to keep rows that have <code>side == "left"</code> (i.e.Â only rows where the <code>side</code> value equals <code>left</code>). Note the <code>==</code>, double equal sign, instead of the usual <code>=</code>. In this short book, I will not go at length to explain why R is so difficult, only that I ask you to obey the rules of the language.</p>
</div>
<div id="solution-11" class="section level4" number="7.6.1.2">
<h4>
<span class="header-section-number">7.6.1.2</span> Solution<a class="anchor" aria-label="anchor" href="#solution-11"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb120"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fms_left</span> <span class="op">&lt;-</span> <span class="va">dat_fms</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span><span class="va">side</span> <span class="op">==</span> <span class="st">"left"</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
task
</th>
<th style="text-align:left;">
side
</th>
<th style="text-align:right;">
score
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:left;">
left
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:left;">
left
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:left;">
left
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:left;">
left
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:left;">
left
</td>
<td style="text-align:right;">
2
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="WRANGLE2-FILTER-KEEP-NUMERIC" class="section level3" number="7.6.2">
<h3>
<span class="header-section-number">7.6.2</span> Keep rows based on a numerical range<a class="anchor" aria-label="anchor" href="#WRANGLE2-FILTER-KEEP-NUMERIC"><i class="fas fa-link"></i></a>
</h3>
<p>You want to keep the data when a variable is within a certain window range. Let us use the <code>dat_vo2</code> dataset. Let us see the range of values of the variable <code>ve</code>.</p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span> <span class="op">(</span><span class="va">dat_vo2</span><span class="op">$</span><span class="va">ve</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="se201_stats_book_files/figure-html/unnamed-chunk-147-1.png" width="672"></div>
<div id="problem-12" class="section level4" number="7.6.2.1">
<h4>
<span class="header-section-number">7.6.2.1</span> Problem<a class="anchor" aria-label="anchor" href="#problem-12"><i class="fas fa-link"></i></a>
</h4>
<p>Say I want to keep rows where 1) <code>ve</code> is less than 80, 2) <code>ve</code> more than 40, and 3) <code>ve</code> is between 40 to 80.</p>
</div>
<div id="solution-12" class="section level4" number="7.6.2.2">
<h4>
<span class="header-section-number">7.6.2.2</span> Solution<a class="anchor" aria-label="anchor" href="#solution-12"><i class="fas fa-link"></i></a>
</h4>
<p>Notice for each graph, how the minimum and maximum values have been clipped off.</p>
<div class="sourceCode" id="cb122"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Keep ve less than 80</span></span>
<span></span>
<span><span class="va">dat_vo2_filt</span> <span class="op">&lt;-</span> <span class="va">dat_vo2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span><span class="va">ve</span> <span class="op">&lt;</span> <span class="fl">80</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span> <span class="op">(</span><span class="va">dat_vo2_filt</span><span class="op">$</span><span class="va">ve</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="se201_stats_book_files/figure-html/unnamed-chunk-148-1.png" width="672"></div>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Keep ve lmore than 40</span></span>
<span></span>
<span><span class="va">dat_vo2_filt</span> <span class="op">&lt;-</span> <span class="va">dat_vo2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span><span class="va">ve</span> <span class="op">&gt;</span> <span class="fl">40</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span> <span class="op">(</span><span class="va">dat_vo2_filt</span><span class="op">$</span><span class="va">ve</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="se201_stats_book_files/figure-html/unnamed-chunk-148-2.png" width="672"></div>
<div class="sourceCode" id="cb124"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Keep ve between 40 to 80</span></span>
<span></span>
<span><span class="va">dat_vo2_filt</span> <span class="op">&lt;-</span> <span class="va">dat_vo2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span><span class="va">ve</span> <span class="op">&gt;</span> <span class="fl">40</span> <span class="op">&amp;</span> <span class="va">ve</span> <span class="op">&lt;</span> <span class="fl">80</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span> <span class="op">(</span><span class="va">dat_vo2_filt</span><span class="op">$</span><span class="va">ve</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="se201_stats_book_files/figure-html/unnamed-chunk-148-3.png" width="672"></div>
</div>
</div>
<div id="discussion-4" class="section level3" number="7.6.3">
<h3>
<span class="header-section-number">7.6.3</span> Discussion<a class="anchor" aria-label="anchor" href="#discussion-4"><i class="fas fa-link"></i></a>
</h3>
<p><code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> works really when you want to throw out or keep rows of data based on some ranges or criteria of the variables you have. When you want to keep rows of data based on the row number, use <code><a href="https://dplyr.tidyverse.org/reference/slice.html">slice ()</a></code>. See also Recipe <a href="WRANGLE.html#WRANGLE-SLICE">6.3</a>.</p>
</div>
</div>
<div id="WRANGLE2-SUMMARIZE-GLOBAL" class="section level2" number="7.7">
<h2>
<span class="header-section-number">7.7</span> Global summary<a class="anchor" aria-label="anchor" href="#WRANGLE2-SUMMARIZE-GLOBAL"><i class="fas fa-link"></i></a>
</h2>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/997159RN4Qg" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<div id="problem-13" class="section level3" number="7.7.1">
<h3>
<span class="header-section-number">7.7.1</span> Problem<a class="anchor" aria-label="anchor" href="#problem-13"><i class="fas fa-link"></i></a>
</h3>
<p>You want to find the total FMS score across all sides and tasks</p>
</div>
<div id="solution-13" class="section level3" number="7.7.2">
<h3>
<span class="header-section-number">7.7.2</span> Solution<a class="anchor" aria-label="anchor" href="#solution-13"><i class="fas fa-link"></i></a>
</h3>
<p>In the <code>dat_fms</code> dataset, we want to use the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize ()</a></code> function.</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_fms</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span> <span class="op">(</span>total_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span> <span class="op">(</span><span class="va">score</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<pre><code>##   total_score
## 1          24</code></pre>
<p>I dare you to find an easier way to calculate such scores in one line of code. That is one reason why I use a programming language like R. It is fast!!!</p>
</div>
<div id="discussion-5" class="section level3" number="7.7.3">
<h3>
<span class="header-section-number">7.7.3</span> Discussion<a class="anchor" aria-label="anchor" href="#discussion-5"><i class="fas fa-link"></i></a>
</h3>
<p>We can also go berserk by trying out different summary functions, like <code><a href="https://rdrr.io/r/base/mean.html">mean ()</a></code>, <code><a href="https://rdrr.io/r/stats/median.html">median ()</a></code>, <code><a href="https://rdrr.io/r/base/Extremes.html">min()</a></code> (minimum value), <code>max</code> (maximum value). The function <code><a href="https://dplyr.tidyverse.org/reference/context.html">n()</a></code> is a really useful one to count the number of rows. If your rows indicate the number of subjects, <code><a href="https://dplyr.tidyverse.org/reference/context.html">n()</a></code> essentially counts the number of subjects.</p>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fms_summ</span> <span class="op">&lt;-</span> <span class="va">dat_fms</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span> <span class="op">(</span>total_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span> <span class="op">(</span><span class="va">score</span><span class="op">)</span>,</span>
<span>             mean_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span> <span class="op">(</span><span class="va">score</span><span class="op">)</span>,</span>
<span>             median_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span> <span class="op">(</span><span class="va">score</span><span class="op">)</span>,</span>
<span>             min_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span> <span class="op">(</span><span class="va">score</span><span class="op">)</span>,</span>
<span>             max_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">score</span><span class="op">)</span>,</span>
<span>             count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:right;">
total_score
</th>
<th style="text-align:right;">
mean_score
</th>
<th style="text-align:right;">
median_score
</th>
<th style="text-align:right;">
min_score
</th>
<th style="text-align:right;">
max_score
</th>
<th style="text-align:right;">
count
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
12
</td>
</tr></tbody>
</table></div>
</div>
</div>
<div id="WRANGLE2-SUMMARIZE-GROUPBY" class="section level2" number="7.8">
<h2>
<span class="header-section-number">7.8</span> Group-by summary<a class="anchor" aria-label="anchor" href="#WRANGLE2-SUMMARIZE-GROUPBY"><i class="fas fa-link"></i></a>
</h2>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/WzWUvmZ0JQU" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<div id="problem-14" class="section level3" number="7.8.1">
<h3>
<span class="header-section-number">7.8.1</span> Problem<a class="anchor" aria-label="anchor" href="#problem-14"><i class="fas fa-link"></i></a>
</h3>
<p>You want to perform the same summary function for each chunk of group. For example, the FMS is typically scored by taking the lower of the two values of left and right for each task. In <code>side</code>, we have three values, <code>c</code>, <code>left</code> and <code>right</code>. The minimum of <code>c</code> is the same value itself.</p>
</div>
<div id="solution-14" class="section level3" number="7.8.2">
<h3>
<span class="header-section-number">7.8.2</span> Solution<a class="anchor" aria-label="anchor" href="#solution-14"><i class="fas fa-link"></i></a>
</h3>
<p>In the <code>dat_fms_grp</code> dataset, we want to use the <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize ()</a></code> function. The code below reads as: collapse all tasks into a single column, for each task and each score, count the number of rows (subjects) who has that score.</p>
<div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fms_grp_summ</span> <span class="op">&lt;-</span> <span class="va">dat_fms_grp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="op">-</span><span class="va">id</span>,</span>
<span>               names_to <span class="op">=</span> <span class="st">"task"</span>,</span>
<span>               values_to <span class="op">=</span> <span class="st">"score"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">task</span>, <span class="va">score</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span> <span class="op">(</span>count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<pre><code>## `summarise()` has grouped output by 'task'. You can override using the `.groups`
## argument.</code></pre>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
task
</th>
<th style="text-align:right;">
score
</th>
<th style="text-align:right;">
count
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
hurdle
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
leg_raise
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
lunge
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
push_up
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
13
</td>
</tr>
<tr>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
rot_stab
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
shd_mob
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
15
</td>
</tr>
<tr>
<td style="text-align:left;">
squat
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
7
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="discussion-6" class="section level3" number="7.8.3">
<h3>
<span class="header-section-number">7.8.3</span> Discussion<a class="anchor" aria-label="anchor" href="#discussion-6"><i class="fas fa-link"></i></a>
</h3>
<p>Why do you need to learn to create summaries? It is the basis for generating plots easily. Let us look at the <code>dat_vo2</code> dataset.</p>
<p>Remember in your lessons, the last 30 sec of each 3 min 30 sec <strong>complete</strong> stage is discarded. That means that I want to throw away the data interval between 3:00 to 3:30 min for every stage.</p>
<p>Thereafter, for the <strong>complete</strong> stage, the last 30 sec of each 3 min interval is then averaged for further analysis. This means keeping data between 2:30 to 3:00 min of each stage. That corresponds to the last six rows of each stage (i.e.Â rows 31 to 36 of each stage). Try to think why i selected these row numbers!</p>
<p>For the last stage, there may be the chance that it is <strong>incomplete</strong>. Based on Kellyâ€™s lesson, you will need to extract the last 30 sec (i.e.Â last six rows) of this last incomplete stage.</p>
<p>I then want to average all my variables over these 6 rows per stage.</p>
<p>I should end up with a dataframe that has 8 rows given 8 stages, one for each stage in this example.</p>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_vo2_summ</span> <span class="op">&lt;-</span> <span class="va">dat_vo2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">stage</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># for each group</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span>row_id <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html">row_number</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span><span class="va">row_id</span> <span class="op">&lt;</span> <span class="fl">37</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_tail</a></span> <span class="op">(</span>n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span> <span class="op">(</span>bf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span> <span class="op">(</span><span class="va">bf</span><span class="op">)</span>,</span>
<span>             vo2_norm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span> <span class="op">(</span><span class="va">vo2_norm</span><span class="op">)</span>,</span>
<span>             rer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span> <span class="op">(</span><span class="va">rer</span><span class="op">)</span>,</span>
<span>             vo2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span> <span class="op">(</span><span class="va">vo2</span><span class="op">)</span>,</span>
<span>             vco2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span> <span class="op">(</span><span class="va">vco2</span><span class="op">)</span>,</span>
<span>             ve <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span> <span class="op">(</span><span class="va">ve</span><span class="op">)</span>,</span>
<span>             hr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span> <span class="op">(</span><span class="va">hr</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:unnamed-chunk-157">Table 7.1: </span>Stage by stage VO2 analysis
</caption>
<thead><tr>
<th style="text-align:right;">
stage
</th>
<th style="text-align:right;">
bf
</th>
<th style="text-align:right;">
vo2_norm
</th>
<th style="text-align:right;">
rer
</th>
<th style="text-align:right;">
vo2
</th>
<th style="text-align:right;">
vco2
</th>
<th style="text-align:right;">
ve
</th>
<th style="text-align:right;">
hr
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
30.67
</td>
<td style="text-align:right;">
31.97
</td>
<td style="text-align:right;">
0.87
</td>
<td style="text-align:right;">
2052.83
</td>
<td style="text-align:right;">
1777.83
</td>
<td style="text-align:right;">
55.17
</td>
<td style="text-align:right;">
136.50
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
34.67
</td>
<td style="text-align:right;">
34.60
</td>
<td style="text-align:right;">
0.88
</td>
<td style="text-align:right;">
2222.17
</td>
<td style="text-align:right;">
1957.50
</td>
<td style="text-align:right;">
59.33
</td>
<td style="text-align:right;">
147.00
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
34.67
</td>
<td style="text-align:right;">
37.42
</td>
<td style="text-align:right;">
0.91
</td>
<td style="text-align:right;">
2401.83
</td>
<td style="text-align:right;">
2191.33
</td>
<td style="text-align:right;">
66.67
</td>
<td style="text-align:right;">
161.33
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
38.00
</td>
<td style="text-align:right;">
37.83
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
2429.00
</td>
<td style="text-align:right;">
2312.50
</td>
<td style="text-align:right;">
71.17
</td>
<td style="text-align:right;">
172.17
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
44.00
</td>
<td style="text-align:right;">
41.67
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
2675.00
</td>
<td style="text-align:right;">
2686.00
</td>
<td style="text-align:right;">
85.67
</td>
<td style="text-align:right;">
178.50
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
45.67
</td>
<td style="text-align:right;">
43.85
</td>
<td style="text-align:right;">
1.06
</td>
<td style="text-align:right;">
2813.67
</td>
<td style="text-align:right;">
2981.17
</td>
<td style="text-align:right;">
99.83
</td>
<td style="text-align:right;">
185.83
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
54.50
</td>
<td style="text-align:right;">
45.50
</td>
<td style="text-align:right;">
1.09
</td>
<td style="text-align:right;">
2920.17
</td>
<td style="text-align:right;">
3195.83
</td>
<td style="text-align:right;">
110.33
</td>
<td style="text-align:right;">
192.33
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
57.33
</td>
<td style="text-align:right;">
45.48
</td>
<td style="text-align:right;">
1.05
</td>
<td style="text-align:right;">
2910.83
</td>
<td style="text-align:right;">
3068.83
</td>
<td style="text-align:right;">
112.17
</td>
<td style="text-align:right;">
195.17
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="WRANGLE2-INNER-JOIN" class="section level2" number="7.9">
<h2>
<span class="header-section-number">7.9</span> Merge two tables together<a class="anchor" aria-label="anchor" href="#WRANGLE2-INNER-JOIN"><i class="fas fa-link"></i></a>
</h2>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/g0Rrmur31MU" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<div id="problem-15" class="section level3" number="7.9.1">
<h3>
<span class="header-section-number">7.9.1</span> Problem<a class="anchor" aria-label="anchor" href="#problem-15"><i class="fas fa-link"></i></a>
</h3>
<p>You want to combine two tables together, ensuring that each row is linked appropriately. For example, you want to combine your <code>dat_vo2_summ</code> summary data with the <code>dat_vo2_stage</code> table which contains the RPE and blood lactate values.</p>
</div>
<div id="solution-15" class="section level3" number="7.9.2">
<h3>
<span class="header-section-number">7.9.2</span> Solution<a class="anchor" aria-label="anchor" href="#solution-15"><i class="fas fa-link"></i></a>
</h3>
<p>Use the <code>inner_join</code> function, with the <code>by</code> key as the common identifier that must be in both dataframes.</p>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_vo2_comb</span> <span class="op">&lt;-</span> <span class="va">dat_vo2_summ</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="va">dat_vo2_stage</span>, by <span class="op">=</span> <span class="st">"stage"</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:right;">
stage
</th>
<th style="text-align:right;">
bf
</th>
<th style="text-align:right;">
vo2_norm
</th>
<th style="text-align:right;">
rer
</th>
<th style="text-align:right;">
vo2
</th>
<th style="text-align:right;">
vco2
</th>
<th style="text-align:right;">
ve
</th>
<th style="text-align:right;">
hr
</th>
<th style="text-align:right;">
speed
</th>
<th style="text-align:right;">
rpe
</th>
<th style="text-align:right;">
lactate
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
30.67
</td>
<td style="text-align:right;">
31.97
</td>
<td style="text-align:right;">
0.87
</td>
<td style="text-align:right;">
2052.83
</td>
<td style="text-align:right;">
1777.83
</td>
<td style="text-align:right;">
55.17
</td>
<td style="text-align:right;">
136.50
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1.0
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
34.67
</td>
<td style="text-align:right;">
34.60
</td>
<td style="text-align:right;">
0.88
</td>
<td style="text-align:right;">
2222.17
</td>
<td style="text-align:right;">
1957.50
</td>
<td style="text-align:right;">
59.33
</td>
<td style="text-align:right;">
147.00
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
1.5
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
34.67
</td>
<td style="text-align:right;">
37.42
</td>
<td style="text-align:right;">
0.91
</td>
<td style="text-align:right;">
2401.83
</td>
<td style="text-align:right;">
2191.33
</td>
<td style="text-align:right;">
66.67
</td>
<td style="text-align:right;">
161.33
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
1.8
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
38.00
</td>
<td style="text-align:right;">
37.83
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
2429.00
</td>
<td style="text-align:right;">
2312.50
</td>
<td style="text-align:right;">
71.17
</td>
<td style="text-align:right;">
172.17
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
2.5
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
44.00
</td>
<td style="text-align:right;">
41.67
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
2675.00
</td>
<td style="text-align:right;">
2686.00
</td>
<td style="text-align:right;">
85.67
</td>
<td style="text-align:right;">
178.50
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
6.0
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
45.67
</td>
<td style="text-align:right;">
43.85
</td>
<td style="text-align:right;">
1.06
</td>
<td style="text-align:right;">
2813.67
</td>
<td style="text-align:right;">
2981.17
</td>
<td style="text-align:right;">
99.83
</td>
<td style="text-align:right;">
185.83
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
7.7
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
54.50
</td>
<td style="text-align:right;">
45.50
</td>
<td style="text-align:right;">
1.09
</td>
<td style="text-align:right;">
2920.17
</td>
<td style="text-align:right;">
3195.83
</td>
<td style="text-align:right;">
110.33
</td>
<td style="text-align:right;">
192.33
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
9.0
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
57.33
</td>
<td style="text-align:right;">
45.48
</td>
<td style="text-align:right;">
1.05
</td>
<td style="text-align:right;">
2910.83
</td>
<td style="text-align:right;">
3068.83
</td>
<td style="text-align:right;">
112.17
</td>
<td style="text-align:right;">
195.17
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
10.0
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="discussion-7" class="section level3" number="7.9.3">
<h3>
<span class="header-section-number">7.9.3</span> Discussion<a class="anchor" aria-label="anchor" href="#discussion-7"><i class="fas fa-link"></i></a>
</h3>
<p>It is common sense, that if we want to join two tables, there must be some rules. First, if we want to join two tables side by side left-right, the number of rows must match. Second, there must be a way the computer knows how to join, much like a key and a keyhole. The key is the column to join by, in this example, <code>stage</code>. In the <code>dat_vo2_summ</code> there is the <code>stage</code> variable with identical number of levels <code>1-8</code>, and the same variable appears in <code>dat_vo2_stage</code>. You donâ€™t have to worry if after merging, the data is sorted correctly, if you follow these rules.</p>
</div>
</div>
<div id="WRANGLE2-LEARNING-CHECK" class="section level2" number="7.10">
<h2>
<span class="header-section-number">7.10</span> Learning check<a class="anchor" aria-label="anchor" href="#WRANGLE2-LEARNING-CHECK"><i class="fas fa-link"></i></a>
</h2>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/D0a18-ge5tE" width="711" height="400" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<ol style="list-style-type: decimal">
<li><p>From your learning check in <a href="InputOuput.html#INPUT-LEARNING-CHECK">5.4</a>, open up your <code>practice_script.R</code>. You should already have the codes to import the <code>data/Athlete_1_treadmill.xlsx</code> file, and label the data called <code>dat</code>.</p></li>
<li><p>Rename the columns of <code>dat</code> to be <code>("time", "bf", "vo2_norm", "rer", "vo2", "vco2", "ve", "hr")</code>, respectively. See Recipe <a href="WRANGLE.html#WRANGLE-RENAME-VARIABLES">6.2</a>.</p></li>
<li><p>Remove the first row of the <code>dat</code> data, as it is useless. See Recipe <a href="WRANGLE.html#WRANGLE-SLICE">6.3</a>.</p></li>
<li><p>Convert the variable <code>time</code> of <code>dat</code> into numeric seconds, and all other variables to numeric. See Recipe <a href="WRANGLE.html#WRANGLE-CHARACTER-2-TIME">6.6</a> and <a href="WRANGLE.html#WRANGLE-CHARACTER-2-NUMERIC">6.5</a>, respectively.</p></li>
<li><p>Create a variable called <code>stage</code>, where each stage represents 3:30 min worth of VO2 data. See Recipe <a href="WRANGLE.html#WRANGLE-NUMERIC-CATEGORY">6.7</a>.</p></li>
<li><p>For each stage, create a variable called <code>row_id</code>, which essentially represents the number of 5 sec windows in each stage. See Recipe <a href="WRANGLE2.html#WRANGLE2-NEW-VARIABLES">7.5</a> and <a href="WRANGLE2.html#WRANGLE2-SUMMARIZE-GROUPBY">7.8</a>.</p></li>
<li><p>For each stage, remove the data between 3:00 to 3:30min. See Recipe <a href="WRANGLE2.html#WRANGLE2-SUMMARIZE-GROUPBY">7.8</a> and <a href="WRANGLE2.html#WRANGLE2-FILTER-KEEP-NUMERIC">7.6.2</a>.</p></li>
<li><p>For each stage, keep the last six rows of data. See Recipe <a href="WRANGLE2.html#WRANGLE2-SUMMARIZE-GROUPBY">7.8</a> and <a href="WRANGLE.html#WRANGLE-SLICE">6.3</a>.</p></li>
<li><p>For each stage, calculate for all variables for the mean of the last six rows of data. See Recipe <a href="WRANGLE2.html#WRANGLE2-SUMMARIZE-GROUPBY">7.8</a> and <a href="WRANGLE2.html#WRANGLE2-SUMMARIZE-GLOBAL">7.7</a>.</p></li>
<li><p>Save this cleaned data set into the <code>data/</code> folder called <code>Athlete_1_treadmill_clean.xlsx</code>. Go into this folder physically, and see this new excel file is there and open it. See Recipe <a href="InputOuput.html#INPUT-EXPORT">5.3</a></p></li>
<li><p>Download the solution to this learning check below.</p></li>
</ol>
<a onclick="fetch('data:text/plain;base64,IyBMb2FkIHBhY2thZ2VzDQoNCmlmICghcmVxdWlyZSgicGFjbWFuIikpIGluc3RhbGwucGFja2FnZXMoInBhY21hbiIpDQpwYWNtYW46OnBfbG9hZCh0aWR5dmVyc2UsICMgQWxsIHB1cnBvc2Ugd3JhbmdsaW5nIGZvciBkYXRhZnJhbWVzDQogICAgICAgICAgICAgICBvcGVueGxzeCwjIHdyaXRpbmcgZXhjZWwgZG9jdW1lbnRzDQogICAgICAgICAgICAgICBsdWJyaWRhdGUsIyBkYXRlLXRpbWUgDQogICAgICAgICAgICAgICB0aWJibGV0aW1lKSAjIG1vdmluZyBhdmVyYWdlIGZvciB2bzINCg0KIyBJbXBvcnQgZXhjZWwgZGF0YQ0KDQpkYXQgPC0gIHJlYWQueGxzeCAoeGxzeEZpbGUgPSAiZGF0YS9BdGhsZXRlXzFfdHJlYWRtaWxsLnhsc3giLA0KICAgICAgICAgICAgICAgICAgICBzaGVldCA9ICJyYXciKQ0KDQpkYXRfc3RhZ2UgPC0gIHJlYWQueGxzeCAoeGxzeEZpbGUgPSAiZGF0YS9BdGhsZXRlXzFfdHJlYWRtaWxsLnhsc3giLA0KICAgICAgICAgICAgICAgICAgIHNoZWV0ID0gInN0YWdlIikNCg0KZGF0X2ZtcyA8LSAgcmVhZC54bHN4ICh4bHN4RmlsZSA9ICJkYXRhL0F0aGxldGVfMV9GTVMueGxzeCIsDQogICAgICAgICAgICAgICAgICAgc2hlZXQgPSAiU2hlZXQxIikNCg0KZGF0X2Ztc19ncnAgPC0gIHJlYWQueGxzeCAoeGxzeEZpbGUgPSAiZGF0YS9zaW1GTVMueGxzeCIsDQogICAgICAgICAgICAgICAgICAgc2hlZXQgPSAiRk1TIikNCg0KIyBUaWR5IGRhdGENCg0KIyMgUmVuYW1lIGNvbHVtbnMNCm5hbWVzIChkYXQpIDwtIGMoInRpbWUiLCAiYmYiLCAidm8yX25vcm0iLCAicmVyIiwgInZvMiIsICJ2Y28yIiwgInZlIiwgImhyIikNCg0KIyMgU2xpY2Ugb2ZmIGZpcnN0IHJvdw0KDQpkYXQgPC0gZGF0JT4lIA0KICBzbGljZSAoLTEpIA0KDQojIyBNYWtlIG51bWVyaWMgYW5kIHRpbWUNCg0KZGF0IDwtIGRhdCAlPiUNCiAgbXV0YXRlIChiZiA9IGFzLm51bWVyaWMoYmYpLA0KICAgICAgICAgIHZvMl9ub3JtID0gYXMubnVtZXJpYyh2bzJfbm9ybSksDQogICAgICAgICAgcmVyID0gYXMubnVtZXJpYyhyZXIpLA0KICAgICAgICAgIHZvMiA9IGFzLm51bWVyaWModm8yKSwNCiAgICAgICAgICB2Y28yID0gYXMubnVtZXJpYyh2Y28yKSwNCiAgICAgICAgICB2ZSA9IGFzLm51bWVyaWModmUpLA0KICAgICAgICAgIGhyID0gYXMubnVtZXJpYyhocikpICU+JQ0KICBtdXRhdGUgKHRpbWUgPSB0aW1lICU+JSANCiAgICAgICAgICAgIHN0cl9zcXVpc2goKSAlPiUgIyBmdW5jdGlvbiBzdHJpcHMgYW55IHdoaXRlc3BhY2VzDQogICAgICAgICAgICBtcygpICU+JSAjIGNvbnZlcnQgdG8gbWludXRlcyBhbmQgc2Vjb25kcw0KICAgICAgICAgICAgYXMucGVyaW9kKHVuaXQgPSAic2VjIikgJT4lICMgY29udmVydHMgZW50aXJlbHkgdG8gc2Vjb25kcw0KICAgICAgICAgICAgYXMubnVtZXJpYyAoKSkgIyBzdHJpcHMgdGhlIFMgc3ltYm9sIHRvIG1ha2UgaXQgYSBudW1iZXINCg0KIyMgQ3JlYXRlIHZhcmlhYmxlIHN0YWdlDQoNCmRhdCA8LSBkYXQlPiUNCiAgbXV0YXRlIChzdGFnZSA9IGN1dF9pbnRlcnZhbCh0aW1lLCBsZW5ndGggPSAyMTAsIGxhYmVscyA9IEZBTFNFKSkNCg0KIyMgQ3JlYXRlIHZhcmlhYmxlIG9mIHJvdyBudW1iZXJzDQoNCmRhdCA8LSBkYXQgJT4lDQogIGdyb3VwX2J5KHN0YWdlKSAlPiUNCiAgbXV0YXRlIChyb3dfaWQgPSByb3dfbnVtYmVyKCkpDQoNCiMjIFJlbW92ZSBsYXN0IDMwcyBkYXRhIHBlciBzdGFnZQ0KDQpkYXQgPC0gZGF0ICU+JQ0KICBncm91cF9ieShzdGFnZSkgJT4lICMgZm9yIGVhY2ggZ3JvdXANCiAgZmlsdGVyIChyb3dfaWQgPCAzNykgDQoNCiMjIGtlZXAgbGFzdCAzMHMgcGVyIHN0YWdlDQoNCmRhdCA8LSBkYXQgJT4lDQogIGdyb3VwX2J5KHN0YWdlKSAlPiUgIyBmb3IgZWFjaCBncm91cA0KICBzbGljZV90YWlsIChuID0gNikNCg0KIyMgU3VtbWFyaXplIGVhY2ggY29sdW1uDQpkYXQgPC0gZGF0ICU+JQ0KICBncm91cF9ieShzdGFnZSkgJT4lICMgZm9yIGVhY2ggZ3JvdXANCiAgc3VtbWFyaXNlX2F0ICh2YXJzKGJmOmhyKSwgbWVhbikNCg0KIyMgRXhwb3J0IGNsZWFuIHZvMiBkYXRhDQoNCndyaXRlLnhsc3goeCA9IGRhdCwNCiAgICAgICAgICAgZmlsZSA9ICJkYXRhL0F0aGxldGVfMV90cmVhZG1pbGxfY2xlYW4ueGxzeCIp').then(res =&gt; res.blob()).then(blob =&gt; {
      const downloadURL = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      document.body.appendChild(a);
      a.href = downloadURL;
      a.download = 'Learning check 6 answers.R'; a.click();
      window.URL.revokeObjectURL(downloadURL);
      document.body.removeChild(a);
    });">
<button class="btn btn-warning" output_extension=".R"><i class="fa fa-save"></i> Learning check 6 answers</button>
</a>

<pre><code>## Warning: package 'igraph' was built under R version 4.1.3</code></pre>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="WRANGLE.html"><span class="header-section-number">6</span> Data manipulation - part 1</a></div>
<div class="next"><a href="CHAPTER-BAR-GRAPH.html"><span class="header-section-number">8</span> Bar Graphs</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#WRANGLE2"><span class="header-section-number">7</span> Data manipulation - part 2</a></li>
<li><a class="nav-link" href="#download-and-load-packages-4">Download and load packages</a></li>
<li>
<a class="nav-link" href="#WRANGLE2-GATHER"><span class="header-section-number">7.1</span> Gathering</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#problem-6"><span class="header-section-number">7.1.1</span> Problem</a></li>
<li><a class="nav-link" href="#solution-6"><span class="header-section-number">7.1.2</span> Solution</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#WRANGLE2-SPREAD"><span class="header-section-number">7.2</span> Spreading</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#problem-7"><span class="header-section-number">7.2.1</span> Problem</a></li>
<li><a class="nav-link" href="#solution-7"><span class="header-section-number">7.2.2</span> Solution</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#WRANGLE2-RENAME-VALUES"><span class="header-section-number">7.3</span> Rename values of a variable</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#problem-8"><span class="header-section-number">7.3.1</span> Problem</a></li>
<li><a class="nav-link" href="#solution-8"><span class="header-section-number">7.3.2</span> Solution</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#WRANGLE2-CHARACTERS-2-FACTORS"><span class="header-section-number">7.4</span> Creating factors</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#problem-9"><span class="header-section-number">7.4.1</span> Problem</a></li>
<li><a class="nav-link" href="#solution-9"><span class="header-section-number">7.4.2</span> Solution</a></li>
<li><a class="nav-link" href="#discussion-2"><span class="header-section-number">7.4.3</span> Discussion</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#WRANGLE2-NEW-VARIABLES"><span class="header-section-number">7.5</span> Making a new variable</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#problem-10"><span class="header-section-number">7.5.1</span> Problem</a></li>
<li><a class="nav-link" href="#solution-10"><span class="header-section-number">7.5.2</span> Solution</a></li>
<li><a class="nav-link" href="#discussion-3"><span class="header-section-number">7.5.3</span> Discussion</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#WRANGLE2-FILTER"><span class="header-section-number">7.6</span> Filtering</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#WRANGLE2-FILTER-KEEP-CHARACTER"><span class="header-section-number">7.6.1</span> Keep rows you want based on condition</a></li>
<li><a class="nav-link" href="#WRANGLE2-FILTER-KEEP-NUMERIC"><span class="header-section-number">7.6.2</span> Keep rows based on a numerical range</a></li>
<li><a class="nav-link" href="#discussion-4"><span class="header-section-number">7.6.3</span> Discussion</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#WRANGLE2-SUMMARIZE-GLOBAL"><span class="header-section-number">7.7</span> Global summary</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#problem-13"><span class="header-section-number">7.7.1</span> Problem</a></li>
<li><a class="nav-link" href="#solution-13"><span class="header-section-number">7.7.2</span> Solution</a></li>
<li><a class="nav-link" href="#discussion-5"><span class="header-section-number">7.7.3</span> Discussion</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#WRANGLE2-SUMMARIZE-GROUPBY"><span class="header-section-number">7.8</span> Group-by summary</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#problem-14"><span class="header-section-number">7.8.1</span> Problem</a></li>
<li><a class="nav-link" href="#solution-14"><span class="header-section-number">7.8.2</span> Solution</a></li>
<li><a class="nav-link" href="#discussion-6"><span class="header-section-number">7.8.3</span> Discussion</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#WRANGLE2-INNER-JOIN"><span class="header-section-number">7.9</span> Merge two tables together</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#problem-15"><span class="header-section-number">7.9.1</span> Problem</a></li>
<li><a class="nav-link" href="#solution-15"><span class="header-section-number">7.9.2</span> Solution</a></li>
<li><a class="nav-link" href="#discussion-7"><span class="header-section-number">7.9.3</span> Discussion</a></li>
</ul>
</li>
<li><a class="nav-link" href="#WRANGLE2-LEARNING-CHECK"><span class="header-section-number">7.10</span> Learning check</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/bernard-liew/se201_stats_book/tree/2021_version/blob/master/05-data_manipulation-part2.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/bernard-liew/se201_stats_book/tree/2021_version/edit/master/05-data_manipulation-part2.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>A Simple Cookbook for Wrangling and Visualization</strong>" was written by Bernard Liew. It was last built on 2022-09-14.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
