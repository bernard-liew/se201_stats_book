<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Line Graphs | A Simple Cookbook for Wrangling and Visualization</title>
  <meta name="description" content="Chapter 8 Line Graphs | A Simple Cookbook for Wrangling and Visualization" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Line Graphs | A Simple Cookbook for Wrangling and Visualization" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Line Graphs | A Simple Cookbook for Wrangling and Visualization" />
  
  
  

<meta name="author" content="Bernard Liew" />


<meta name="date" content="2020-09-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="CHAPTER-BAR-GRAPH.html"/>
<link rel="next" href="your-assignment.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#why-is-r-so-great"><i class="fa fa-check"></i><b>1.1</b> Why is R so great?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#rrelationship"><i class="fa fa-check"></i><b>1.2</b> Why R is like a relationship…</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#r-resources"><i class="fa fa-check"></i><b>1.3</b> R resources</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#r-books"><i class="fa fa-check"></i><b>1.3.1</b> R books</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="get-started.html"><a href="get-started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a><ul>
<li class="chapter" data-level="2.1" data-path="get-started.html"><a href="get-started.html#INSTALL-GET-STARTED"><i class="fa fa-check"></i><b>2.1</b> Installing Base-R and RStudio</a><ul>
<li class="chapter" data-level="2.1.1" data-path="get-started.html"><a href="get-started.html#check-for-version-updates"><i class="fa fa-check"></i><b>2.1.1</b> Check for version updates</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="get-started.html"><a href="get-started.html#INSTALL-GET-FAMILIAR"><i class="fa fa-check"></i><b>2.2</b> The four RStudio Windows</a><ul>
<li class="chapter" data-level="2.2.1" data-path="get-started.html"><a href="get-started.html#source---your-notepad-for-code"><i class="fa fa-check"></i><b>2.2.1</b> Source - Your notepad for code</a></li>
<li class="chapter" data-level="2.2.2" data-path="get-started.html"><a href="get-started.html#console-rs-heart"><i class="fa fa-check"></i><b>2.2.2</b> Console: R’s Heart</a></li>
<li class="chapter" data-level="2.2.3" data-path="get-started.html"><a href="get-started.html#environment-history"><i class="fa fa-check"></i><b>2.2.3</b> Environment / History</a></li>
<li class="chapter" data-level="2.2.4" data-path="get-started.html"><a href="get-started.html#files-plots-packages-help"><i class="fa fa-check"></i><b>2.2.4</b> Files / Plots / Packages / Help</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="get-started.html"><a href="get-started.html#INSTALL-READ-WRITE-CODE"><i class="fa fa-check"></i><b>2.3</b> Reading and writing Code</a><ul>
<li class="chapter" data-level="2.3.1" data-path="get-started.html"><a href="get-started.html#code-chunks"><i class="fa fa-check"></i><b>2.3.1</b> Code Chunks</a></li>
<li class="chapter" data-level="2.3.2" data-path="get-started.html"><a href="get-started.html#comments-with"><i class="fa fa-check"></i><b>2.3.2</b> Comments with #</a></li>
<li class="chapter" data-level="2.3.3" data-path="get-started.html"><a href="get-started.html#element-numbers-in-output-1"><i class="fa fa-check"></i><b>2.3.3</b> Element numbers in output [1]</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="get-started.html"><a href="get-started.html#INSTALL-DEBUG"><i class="fa fa-check"></i><b>2.4</b> Debugging</a><ul>
<li class="chapter" data-level="2.4.1" data-path="get-started.html"><a href="get-started.html#r-is-not-ready"><i class="fa fa-check"></i><b>2.4.1</b> R is not ready (&gt;)</a></li>
<li class="chapter" data-level="2.4.2" data-path="get-started.html"><a href="get-started.html#misspelled-object-or-function"><i class="fa fa-check"></i><b>2.4.2</b> Misspelled object or function</a></li>
<li class="chapter" data-level="2.4.3" data-path="get-started.html"><a href="get-started.html#punctuation-problems"><i class="fa fa-check"></i><b>2.4.3</b> Punctuation problems</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="get-started.html"><a href="get-started.html#INSTALL-LEARNING-CHECK"><i class="fa fa-check"></i><b>2.5</b> Learning check</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>3</b> The Basics</a><ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="3.1" data-path="basics.html"><a href="basics.html#BASICS-CONSOLE"><i class="fa fa-check"></i><b>3.1</b> The command-line (Console)</a></li>
<li class="chapter" data-level="3.2" data-path="basics.html"><a href="basics.html#writing-r-scripts-in-an-editor"><i class="fa fa-check"></i><b>3.2</b> Writing R scripts in an editor</a><ul>
<li class="chapter" data-level="3.2.1" data-path="basics.html"><a href="basics.html#send-code-from-a-source-to-the-console"><i class="fa fa-check"></i><b>3.2.1</b> Send code from a source to the console</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="basics.html"><a href="basics.html#a-brief-style-guide-commenting-and-spacing"><i class="fa fa-check"></i><b>3.3</b> A brief style guide: Commenting and spacing</a><ul>
<li class="chapter" data-level="3.3.1" data-path="basics.html"><a href="basics.html#commenting-code-with-the-pound-sign"><i class="fa fa-check"></i><b>3.3.1</b> Commenting code with the # (pound) sign</a></li>
<li class="chapter" data-level="3.3.2" data-path="basics.html"><a href="basics.html#spacing"><i class="fa fa-check"></i><b>3.3.2</b> Spacing</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="basics.html"><a href="basics.html#objects-and-functions"><i class="fa fa-check"></i><b>3.4</b> Objects and functions</a><ul>
<li class="chapter" data-level="3.4.1" data-path="basics.html"><a href="basics.html#numbers-versus-characters"><i class="fa fa-check"></i><b>3.4.1</b> Numbers versus characters</a></li>
<li class="chapter" data-level="3.4.2" data-path="basics.html"><a href="basics.html#creating-new-objects-with--"><i class="fa fa-check"></i><b>3.4.2</b> Creating new objects with &lt;-</a></li>
<li class="chapter" data-level="3.4.3" data-path="basics.html"><a href="basics.html#how-to-name-objects"><i class="fa fa-check"></i><b>3.4.3</b> How to name objects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html"><i class="fa fa-check"></i><b>4</b> Navigating the Software</a><ul>
<li class="chapter" data-level="" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="4.1" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#NAVIGATE-WORKING-DIRECTORY"><i class="fa fa-check"></i><b>4.1</b> Getting and Setting the Working Directory</a></li>
<li class="chapter" data-level="4.2" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#NAVIGATE-PROJECTS"><i class="fa fa-check"></i><b>4.2</b> Creating a new Rstudio project</a></li>
<li class="chapter" data-level="4.3" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#NAVIGATE-INSTALL-PACKAGE"><i class="fa fa-check"></i><b>4.3</b> Installing Packages</a><ul>
<li class="chapter" data-level="4.3.1" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#installing-a-new-package"><i class="fa fa-check"></i><b>4.3.1</b> Installing a new package</a></li>
<li class="chapter" data-level="4.3.2" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#loading-a-package"><i class="fa fa-check"></i><b>4.3.2</b> Loading a package</a></li>
<li class="chapter" data-level="4.3.3" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#a-simple-approach-to-package"><i class="fa fa-check"></i><b>4.3.3</b> A simple approach to package</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="NavigatingTheSoftware.html"><a href="NavigatingTheSoftware.html#NAVIGATE-LEARNING-CHECK"><i class="fa fa-check"></i><b>4.4</b> Learning check</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="InputOuput.html"><a href="InputOuput.html"><i class="fa fa-check"></i><b>5</b> Input and Output</a><ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="5.1" data-path="InputOuput.html"><a href="InputOuput.html#dealing-with-cannot-open-file-in-windows"><i class="fa fa-check"></i><b>5.1</b> Dealing with “Cannot Open File” in Windows</a></li>
<li class="chapter" data-level="5.2" data-path="InputOuput.html"><a href="InputOuput.html#INPUT-IMPORT"><i class="fa fa-check"></i><b>5.2</b> Reading in Excel “.xlsx” data</a></li>
<li class="chapter" data-level="5.3" data-path="InputOuput.html"><a href="InputOuput.html#INPUT-EXPORT"><i class="fa fa-check"></i><b>5.3</b> Writing a Data Frame to Excel</a></li>
<li class="chapter" data-level="5.4" data-path="InputOuput.html"><a href="InputOuput.html#INPUT-LEARNING-CHECK"><i class="fa fa-check"></i><b>5.4</b> Learning check</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="WRANGLE.html"><a href="WRANGLE.html"><i class="fa fa-check"></i><b>6</b> Data manipulation</a><ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#download-and-load-libraries"><i class="fa fa-check"></i>Download and load libraries</a></li>
<li class="chapter" data-level="" data-path="WRANGLE.html"><a href="WRANGLE.html#import-data"><i class="fa fa-check"></i>Import data</a></li>
<li class="chapter" data-level="6.1" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-RENAME-VARIABLES"><i class="fa fa-check"></i><b>6.1</b> Renaming variables</a><ul>
<li class="chapter" data-level="6.1.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem"><i class="fa fa-check"></i><b>6.1.1</b> Problem</a></li>
<li class="chapter" data-level="6.1.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution"><i class="fa fa-check"></i><b>6.1.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-SLICE"><i class="fa fa-check"></i><b>6.2</b> Subset rows</a><ul>
<li class="chapter" data-level="6.2.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-1"><i class="fa fa-check"></i><b>6.2.1</b> Problem</a></li>
<li class="chapter" data-level="6.2.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-1"><i class="fa fa-check"></i><b>6.2.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-CHARACTER-2-NUMERIC"><i class="fa fa-check"></i><b>6.3</b> Convert characters to numeric</a><ul>
<li class="chapter" data-level="6.3.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-2"><i class="fa fa-check"></i><b>6.3.1</b> Problem</a></li>
<li class="chapter" data-level="6.3.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-2"><i class="fa fa-check"></i><b>6.3.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-CHARACTER-2-TIME"><i class="fa fa-check"></i><b>6.4</b> Convert characters to date and time</a><ul>
<li class="chapter" data-level="6.4.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-3"><i class="fa fa-check"></i><b>6.4.1</b> Problem</a></li>
<li class="chapter" data-level="6.4.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-3"><i class="fa fa-check"></i><b>6.4.2</b> Solution</a></li>
<li class="chapter" data-level="6.4.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion"><i class="fa fa-check"></i><b>6.4.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-NUMERIC-CATEGORY"><i class="fa fa-check"></i><b>6.5</b> Split Numeric Variable into Categories</a><ul>
<li class="chapter" data-level="6.5.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-4"><i class="fa fa-check"></i><b>6.5.1</b> Problem</a></li>
<li class="chapter" data-level="6.5.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-4"><i class="fa fa-check"></i><b>6.5.2</b> Solution</a></li>
<li class="chapter" data-level="6.5.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-1"><i class="fa fa-check"></i><b>6.5.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-TIDY-DATA"><i class="fa fa-check"></i><b>6.6</b> Tidy data</a></li>
<li class="chapter" data-level="6.7" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-SPREAD"><i class="fa fa-check"></i><b>6.7</b> Spreading</a><ul>
<li class="chapter" data-level="6.7.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-5"><i class="fa fa-check"></i><b>6.7.1</b> Problem</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-GATHER"><i class="fa fa-check"></i><b>6.8</b> Gathering</a><ul>
<li class="chapter" data-level="6.8.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-6"><i class="fa fa-check"></i><b>6.8.1</b> Problem</a></li>
<li class="chapter" data-level="6.8.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-5"><i class="fa fa-check"></i><b>6.8.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-RENAME-VALUES"><i class="fa fa-check"></i><b>6.9</b> Rename values of a variable</a><ul>
<li class="chapter" data-level="6.9.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-7"><i class="fa fa-check"></i><b>6.9.1</b> Problem</a></li>
<li class="chapter" data-level="6.9.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-6"><i class="fa fa-check"></i><b>6.9.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-CHARACTERS-2-FACTORS"><i class="fa fa-check"></i><b>6.10</b> Creating factors</a><ul>
<li class="chapter" data-level="6.10.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-8"><i class="fa fa-check"></i><b>6.10.1</b> Problem</a></li>
<li class="chapter" data-level="6.10.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-7"><i class="fa fa-check"></i><b>6.10.2</b> Solution</a></li>
<li class="chapter" data-level="6.10.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-2"><i class="fa fa-check"></i><b>6.10.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-NEW-VARIABLES"><i class="fa fa-check"></i><b>6.11</b> Making a new variable</a><ul>
<li class="chapter" data-level="6.11.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-9"><i class="fa fa-check"></i><b>6.11.1</b> Problem</a></li>
<li class="chapter" data-level="6.11.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-8"><i class="fa fa-check"></i><b>6.11.2</b> Solution</a></li>
<li class="chapter" data-level="6.11.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-3"><i class="fa fa-check"></i><b>6.11.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-FILTER"><i class="fa fa-check"></i><b>6.12</b> Filtering</a><ul>
<li class="chapter" data-level="6.12.1" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-FILTER-KEEP-CHARACTER"><i class="fa fa-check"></i><b>6.12.1</b> Keep rows you want based on condition</a></li>
<li class="chapter" data-level="6.12.2" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-FILTER-KEEP-NUMERIC"><i class="fa fa-check"></i><b>6.12.2</b> Keep rows based on a numerical range</a></li>
<li class="chapter" data-level="6.12.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-4"><i class="fa fa-check"></i><b>6.12.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="6.13" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-SUMMARIZE-GLOBAL"><i class="fa fa-check"></i><b>6.13</b> Global summary</a><ul>
<li class="chapter" data-level="6.13.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-12"><i class="fa fa-check"></i><b>6.13.1</b> Problem</a></li>
<li class="chapter" data-level="6.13.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-11"><i class="fa fa-check"></i><b>6.13.2</b> Solution</a></li>
<li class="chapter" data-level="6.13.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-5"><i class="fa fa-check"></i><b>6.13.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="6.14" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-SUMMARIZE-GROUPBY"><i class="fa fa-check"></i><b>6.14</b> Group-by summary</a><ul>
<li class="chapter" data-level="6.14.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-13"><i class="fa fa-check"></i><b>6.14.1</b> Problem</a></li>
<li class="chapter" data-level="6.14.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-12"><i class="fa fa-check"></i><b>6.14.2</b> Solution</a></li>
<li class="chapter" data-level="6.14.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-6"><i class="fa fa-check"></i><b>6.14.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="6.15" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-INNER-JOIN"><i class="fa fa-check"></i><b>6.15</b> Merge two tables together</a><ul>
<li class="chapter" data-level="6.15.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-14"><i class="fa fa-check"></i><b>6.15.1</b> Problem</a></li>
<li class="chapter" data-level="6.15.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-13"><i class="fa fa-check"></i><b>6.15.2</b> Solution</a></li>
<li class="chapter" data-level="6.15.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-7"><i class="fa fa-check"></i><b>6.15.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="6.16" data-path="WRANGLE.html"><a href="WRANGLE.html#WRANGLE-LEARNING-CHECK"><i class="fa fa-check"></i><b>6.16</b> Learning check</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="CHAPTER-BAR-GRAPH.html"><a href="CHAPTER-BAR-GRAPH.html"><i class="fa fa-check"></i><b>7</b> Bar Graphs</a><ul>
<li class="chapter" data-level="7.1" data-path="CHAPTER-BAR-GRAPH.html"><a href="CHAPTER-BAR-GRAPH.html#BAR-GRAPH-BASIC-BAR"><i class="fa fa-check"></i><b>7.1</b> Making a Basic Bar Graph</a><ul>
<li class="chapter" data-level="7.1.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem"><i class="fa fa-check"></i><b>7.1.1</b> Problem</a></li>
<li class="chapter" data-level="7.1.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution"><i class="fa fa-check"></i><b>7.1.2</b> Solution</a></li>
<li class="chapter" data-level="7.1.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion"><i class="fa fa-check"></i><b>7.1.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="CHAPTER-BAR-GRAPH.html"><a href="CHAPTER-BAR-GRAPH.html#BAR-GRAPH-GROUPED-BAR"><i class="fa fa-check"></i><b>7.2</b> Grouping Bars Together</a><ul>
<li class="chapter" data-level="7.2.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-1"><i class="fa fa-check"></i><b>7.2.1</b> Problem</a></li>
<li class="chapter" data-level="7.2.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-1"><i class="fa fa-check"></i><b>7.2.2</b> Solution</a></li>
<li class="chapter" data-level="7.2.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-1"><i class="fa fa-check"></i><b>7.2.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="CHAPTER-BAR-GRAPH.html"><a href="CHAPTER-BAR-GRAPH.html#BAR-GRAPH-COLORS"><i class="fa fa-check"></i><b>7.3</b> Using Colors in a Bar Graph</a><ul>
<li class="chapter" data-level="7.3.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-2"><i class="fa fa-check"></i><b>7.3.1</b> Problem</a></li>
<li class="chapter" data-level="7.3.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-2"><i class="fa fa-check"></i><b>7.3.2</b> Solution</a></li>
<li class="chapter" data-level="7.3.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-2"><i class="fa fa-check"></i><b>7.3.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="CHAPTER-BAR-GRAPH.html"><a href="CHAPTER-BAR-GRAPH.html#BAR-GRAPH-AXES"><i class="fa fa-check"></i><b>7.4</b> Changing Axes titles in a Bar Graph</a><ul>
<li class="chapter" data-level="7.4.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-3"><i class="fa fa-check"></i><b>7.4.1</b> Problem</a></li>
<li class="chapter" data-level="7.4.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-3"><i class="fa fa-check"></i><b>7.4.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="CHAPTER-BAR-GRAPH.html"><a href="CHAPTER-BAR-GRAPH.html#BAR-GRAPH-LEGEND"><i class="fa fa-check"></i><b>7.5</b> Changing Legend titles in a Bar Graph</a><ul>
<li class="chapter" data-level="7.5.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-4"><i class="fa fa-check"></i><b>7.5.1</b> Problem</a></li>
<li class="chapter" data-level="7.5.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-4"><i class="fa fa-check"></i><b>7.5.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="CHAPTER-BAR-GRAPH.html"><a href="CHAPTER-BAR-GRAPH.html#BAR-GRAPH-FONTSIZE"><i class="fa fa-check"></i><b>7.6</b> Changing font size uniformly across the Bar Graph</a><ul>
<li class="chapter" data-level="7.6.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-5"><i class="fa fa-check"></i><b>7.6.1</b> Problem</a></li>
<li class="chapter" data-level="7.6.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-5"><i class="fa fa-check"></i><b>7.6.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="CHAPTER-BAR-GRAPH.html"><a href="CHAPTER-BAR-GRAPH.html#BAR-OUTPUT-BITMAP"><i class="fa fa-check"></i><b>7.7</b> Outputting to Bitmap (PNG/TIFF) Files</a><ul>
<li class="chapter" data-level="7.7.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-6"><i class="fa fa-check"></i><b>7.7.1</b> Problem</a></li>
<li class="chapter" data-level="7.7.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-6"><i class="fa fa-check"></i><b>7.7.2</b> Solution</a></li>
<li class="chapter" data-level="7.7.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-3"><i class="fa fa-check"></i><b>7.7.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="CHAPTER-BAR-GRAPH.html"><a href="CHAPTER-BAR-GRAPH.html#BAR-LEARNING-CHECK"><i class="fa fa-check"></i><b>7.8</b> Learning check</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="line-graphs.html"><a href="line-graphs.html"><i class="fa fa-check"></i><b>8</b> Line Graphs</a><ul>
<li class="chapter" data-level="8.1" data-path="line-graphs.html"><a href="line-graphs.html#LINE-GRAPH-BASIC-LINE"><i class="fa fa-check"></i><b>8.1</b> Making a Basic Line Graph</a><ul>
<li class="chapter" data-level="8.1.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem"><i class="fa fa-check"></i><b>8.1.1</b> Problem</a></li>
<li class="chapter" data-level="8.1.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution"><i class="fa fa-check"></i><b>8.1.2</b> Solution</a></li>
<li class="chapter" data-level="8.1.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion"><i class="fa fa-check"></i><b>8.1.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="line-graphs.html"><a href="line-graphs.html#LINE-GRAPH-POINTS"><i class="fa fa-check"></i><b>8.2</b> Adding Points to a Line Graph</a><ul>
<li class="chapter" data-level="8.2.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-1"><i class="fa fa-check"></i><b>8.2.1</b> Problem</a></li>
<li class="chapter" data-level="8.2.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-1"><i class="fa fa-check"></i><b>8.2.2</b> Solution</a></li>
<li class="chapter" data-level="8.2.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-1"><i class="fa fa-check"></i><b>8.2.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="line-graphs.html"><a href="line-graphs.html#LINE-GRAPH-MULTIPLE-LINE"><i class="fa fa-check"></i><b>8.3</b> Making a Line Graph with Multiple Lines</a><ul>
<li class="chapter" data-level="8.3.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-2"><i class="fa fa-check"></i><b>8.3.1</b> Problem</a></li>
<li class="chapter" data-level="8.3.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-2"><i class="fa fa-check"></i><b>8.3.2</b> Solution</a></li>
<li class="chapter" data-level="8.3.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-2"><i class="fa fa-check"></i><b>8.3.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="line-graphs.html"><a href="line-graphs.html#LINE-GRAPH-LINE-APPEARANCE"><i class="fa fa-check"></i><b>8.4</b> Changing the Appearance of Lines</a><ul>
<li class="chapter" data-level="8.4.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-3"><i class="fa fa-check"></i><b>8.4.1</b> Problem</a></li>
<li class="chapter" data-level="8.4.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-3"><i class="fa fa-check"></i><b>8.4.2</b> Solution</a></li>
<li class="chapter" data-level="8.4.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-3"><i class="fa fa-check"></i><b>8.4.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="line-graphs.html"><a href="line-graphs.html#LINE-GRAPH-POINT-APPEARANCE"><i class="fa fa-check"></i><b>8.5</b> Changing the Appearance of Points</a><ul>
<li class="chapter" data-level="8.5.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-4"><i class="fa fa-check"></i><b>8.5.1</b> Problem</a></li>
<li class="chapter" data-level="8.5.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-4"><i class="fa fa-check"></i><b>8.5.2</b> Solution</a></li>
<li class="chapter" data-level="8.5.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-4"><i class="fa fa-check"></i><b>8.5.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="line-graphs.html"><a href="line-graphs.html#LINE-GRAPH-APPEARANCE-THEME"><i class="fa fa-check"></i><b>8.6</b> Using Themes to Change Overall Appearance of Plot</a><ul>
<li class="chapter" data-level="8.6.1" data-path="WRANGLE.html"><a href="WRANGLE.html#problem-5"><i class="fa fa-check"></i><b>8.6.1</b> Problem</a></li>
<li class="chapter" data-level="8.6.2" data-path="WRANGLE.html"><a href="WRANGLE.html#solution-5"><i class="fa fa-check"></i><b>8.6.2</b> Solution</a></li>
<li class="chapter" data-level="8.6.3" data-path="WRANGLE.html"><a href="WRANGLE.html#discussion-5"><i class="fa fa-check"></i><b>8.6.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="line-graphs.html"><a href="line-graphs.html#LINE-GRAPH-LEARNING-CHECK"><i class="fa fa-check"></i><b>8.7</b> Learning check</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="your-assignment.html"><a href="your-assignment.html"><i class="fa fa-check"></i><b>9</b> Your Assignment</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Simple Cookbook for Wrangling and Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="line-graphs" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Line Graphs</h1>
<p>Line graphs are typically used for visualizing how one continuous variable, on the y-axis, changes in relation to another continuous variable, on the x-axis. Often the <em>x</em> variable represents time, but it may also represent some other continuous quantity, for example, the amount of a drug administered to experimental subjects.</p>
<p>As with bar graphs, there are exceptions. Line graphs can also be used with a discrete variable on the x-axis. This is appropriate when the variable is ordered (e.g., “small”, “medium”, “large”), but not when the variable is unordered (e.g., “cow”, “goose”, “pig”). Most of the examples in this chapter use a continuous <em>x</em> variable, but we’ll see one example where the variable is converted to a factor and thus treated as a discrete variable.</p>
<p>Let us prepare for this chapter by first importing a Vo2 treadmill test data that we have cleaned, and placed in the data folder. See Recipe <a href="WRANGLE.html#WRANGLE-SUMMARIZE-GROUPBY">6.14</a>. The Excel sheet is called <code>"treadmill_pt4_clean.xlsx"</code>.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" title="1">dat &lt;-<span class="st">  </span><span class="kw">read.xlsx</span> (<span class="dt">xlsxFile =</span> <span class="st">&quot;data/treadmill_pt4_clean.xlsx&quot;</span>,</a>
<a class="sourceLine" id="cb158-2" title="2">                   <span class="dt">sheet =</span> <span class="st">&quot;Sheet1&quot;</span>)</a>
<a class="sourceLine" id="cb158-3" title="3"></a>
<a class="sourceLine" id="cb158-4" title="4">dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb158-5" title="5"><span class="st">  </span><span class="kw">mutate</span> (<span class="dt">stage =</span> <span class="kw">cut_interval</span>(time, <span class="dt">length =</span> <span class="dv">210</span>, <span class="dt">labels =</span> <span class="ot">FALSE</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb158-6" title="6"><span class="st">  </span><span class="kw">group_by</span>(stage) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb158-7" title="7"><span class="st">  </span><span class="kw">slice</span>(<span class="kw">c</span>(<span class="dv">31</span><span class="op">:</span><span class="dv">36</span>)) <span class="op">%&gt;%</span><span class="st">  </span></a>
<a class="sourceLine" id="cb158-8" title="8"><span class="st">  </span><span class="kw">summarise_at</span> (<span class="kw">vars</span>(bf<span class="op">:</span>hr), mean)</a></code></pre></div>
<div id="LINE-GRAPH-BASIC-LINE" class="section level2">
<h2><span class="header-section-number">8.1</span> Making a Basic Line Graph</h2>
<div id="problem" class="section level3">
<h3><span class="header-section-number">8.1.1</span> Problem</h3>
<p>You want to make a basic line graph.</p>
</div>
<div id="solution" class="section level3">
<h3><span class="header-section-number">8.1.2</span> Solution</h3>
<p>Use <code>ggplot()</code> with <code>geom_line()</code>, and specify which variables you mapped to x and y (Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-BASIC-LINE">8.1</a>):</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" title="1"></a>
<a class="sourceLine" id="cb159-2" title="2"><span class="kw">ggplot</span>(dat) <span class="op">+</span></a>
<a class="sourceLine" id="cb159-3" title="3"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> vo2))  </a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-BASIC-LINE"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-BASIC-LINE-1.png" alt="Basic line graph" width="50%" />
<p class="caption">
Figure 8.1: Basic line graph
</p>
</div>
</div>
<div id="discussion" class="section level3">
<h3><span class="header-section-number">8.1.3</span> Discussion</h3>
<p>In this sample data set, the <em>x</em> variable, <code>time</code>, is in one column and the <em>y</em> variable, <code>vo2</code>, is in another:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" title="1">dat</a>
<a class="sourceLine" id="cb160-2" title="2"><span class="co">#&gt; # A tibble: 7 x 8</span></a>
<a class="sourceLine" id="cb160-3" title="3"><span class="co">#&gt;   stage    bf vo2_norm   rer   vo2  vco2    ve    hr</span></a>
<a class="sourceLine" id="cb160-4" title="4"><span class="co">#&gt;   &lt;int&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb160-5" title="5"><span class="co">#&gt; 1     1  30.7     32.0 0.868 2053. 1778.  55.2  136.</span></a>
<a class="sourceLine" id="cb160-6" title="6"><span class="co">#&gt; 2     2  34.7     34.6 0.882 2222. 1958.  59.3  147 </span></a>
<a class="sourceLine" id="cb160-7" title="7"><span class="co">#&gt; 3     3  34.7     37.4 0.912 2402. 2191.  66.7  161.</span></a>
<a class="sourceLine" id="cb160-8" title="8"><span class="co">#&gt; 4     4  38       37.8 0.95  2429  2312.  71.2  172.</span></a>
<a class="sourceLine" id="cb160-9" title="9"><span class="co">#&gt; 5     5  44       41.7 1.00  2675  2686   85.7  178.</span></a>
<a class="sourceLine" id="cb160-10" title="10"><span class="co">#&gt; 6     6  45.7     43.8 1.06  2814. 2981.  99.8  186.</span></a>
<a class="sourceLine" id="cb160-11" title="11"><span class="co">#&gt; # ... with 1 more row</span></a></code></pre></div>
<p>With ggplot2, the default <em>y</em> range of a line graph is just enough to include the <em>y</em> values in the data. For some kinds of data, it’s better to have the <em>y</em> range start from zero. You can use <code>ylim()</code> to set the range, or you can use <code>expand_limits()</code> to expand the range to include a value. This will set the range from zero to the maximum value of the demand column in <code>BOD</code> (Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-BASIC-LINE-YLIM">8.2</a>):</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" title="1"><span class="co"># These have the same result</span></a>
<a class="sourceLine" id="cb161-2" title="2"><span class="kw">ggplot</span>(dat) <span class="op">+</span></a>
<a class="sourceLine" id="cb161-3" title="3"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> vo2))  <span class="op">+</span></a>
<a class="sourceLine" id="cb161-4" title="4"><span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="kw">max</span>(dat<span class="op">$</span>vo2))</a>
<a class="sourceLine" id="cb161-5" title="5"></a>
<a class="sourceLine" id="cb161-6" title="6"><span class="kw">ggplot</span>(dat) <span class="op">+</span></a>
<a class="sourceLine" id="cb161-7" title="7"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> vo2)) <span class="op">+</span></a>
<a class="sourceLine" id="cb161-8" title="8"><span class="st">  </span><span class="kw">expand_limits</span>(<span class="dt">y =</span> <span class="dv">0</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-BASIC-LINE-YLIM"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-BASIC-LINE-YLIM-1.png" alt="Line graph with manually set y range" width="50%" />
<p class="caption">
Figure 8.2: Line graph with manually set y range
</p>
</div>
</div>
</div>
<div id="LINE-GRAPH-POINTS" class="section level2">
<h2><span class="header-section-number">8.2</span> Adding Points to a Line Graph</h2>
<div id="problem-1" class="section level3">
<h3><span class="header-section-number">8.2.1</span> Problem</h3>
<p>You want to add points to a line graph.</p>
</div>
<div id="solution-1" class="section level3">
<h3><span class="header-section-number">8.2.2</span> Solution</h3>
<p>Add <code>geom_point()</code> (Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-POINT">8.3</a>):</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" title="1"><span class="kw">ggplot</span>(dat) <span class="op">+</span></a>
<a class="sourceLine" id="cb162-2" title="2"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> vo2))  <span class="op">+</span></a>
<a class="sourceLine" id="cb162-3" title="3"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> vo2))</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-POINT"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-POINT-1.png" alt="Line graph with points" width="50%" />
<p class="caption">
Figure 8.3: Line graph with points
</p>
</div>
</div>
<div id="discussion-1" class="section level3">
<h3><span class="header-section-number">8.2.3</span> Discussion</h3>
<p>Sometimes it is useful to indicate each data point on a line graph. This is helpful when the density of observations is low, or when the observations do not happen at regular intervals.</p>
<p>In an external <code>worldpop</code> data set that comes with the installed packages, the intervals between each data point are not consistent. In the far past, the estimates were not as frequent as they are in the more recent past. Displaying points on the graph illustrates when each estimate was made (Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-POINTS-INTERVAL">8.4</a>):</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" title="1"></a>
<a class="sourceLine" id="cb163-2" title="2"><span class="kw">library</span>(gcookbook) <span class="co"># Load gcookbook for the worldpop data set</span></a>
<a class="sourceLine" id="cb163-3" title="3"></a>
<a class="sourceLine" id="cb163-4" title="4"><span class="kw">ggplot</span>(worldpop) <span class="op">+</span></a>
<a class="sourceLine" id="cb163-5" title="5"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Year, <span class="dt">y =</span> Population)) <span class="op">+</span></a>
<a class="sourceLine" id="cb163-6" title="6"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Year, <span class="dt">y =</span> Population))</a>
<a class="sourceLine" id="cb163-7" title="7"></a>
<a class="sourceLine" id="cb163-8" title="8"><span class="co"># Same with a log y-axis</span></a>
<a class="sourceLine" id="cb163-9" title="9"><span class="kw">ggplot</span>(worldpop) <span class="op">+</span></a>
<a class="sourceLine" id="cb163-10" title="10"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Year, <span class="dt">y =</span> Population)) <span class="op">+</span></a>
<a class="sourceLine" id="cb163-11" title="11"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Year, <span class="dt">y =</span> Population)) <span class="op">+</span></a>
<a class="sourceLine" id="cb163-12" title="12"><span class="st">  </span><span class="kw">scale_y_log10</span>()</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-POINTS-INTERVAL"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-POINTS-INTERVAL-1.png" alt="Top: points indicate where each data point is; bottom: the same data with a log y-axis" width="50%" /><img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-POINTS-INTERVAL-2.png" alt="Top: points indicate where each data point is; bottom: the same data with a log y-axis" width="50%" />
<p class="caption">
Figure 8.4: Top: points indicate where each data point is; bottom: the same data with a log y-axis
</p>
</div>
<p>With the log y-axis, you can see that the rate of proportional change has increased in the last thousand years. The estimates for the years before 0 have a roughly constant rate of change of 10 times per 5,000 years. In the most recent 1,000 years, the population has increased at a much faster rate. We can also see that the population estimates are much more frequent in recent times–and probably more accurate!</p>
</div>
</div>
<div id="LINE-GRAPH-MULTIPLE-LINE" class="section level2">
<h2><span class="header-section-number">8.3</span> Making a Line Graph with Multiple Lines</h2>
<div id="problem-2" class="section level3">
<h3><span class="header-section-number">8.3.1</span> Problem</h3>
<p>You want to make a line graph with more than one line.</p>
</div>
<div id="solution-2" class="section level3">
<h3><span class="header-section-number">8.3.2</span> Solution</h3>
<p>In addition to the variables mapped to the x- and y-axes, map another (discrete) variable to colour or linetype, as shown in Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-MULTI-LINE-COLOR-TYPE">8.5</a>:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" title="1"></a>
<a class="sourceLine" id="cb164-2" title="2"><span class="co"># Bring all variables into one column</span></a>
<a class="sourceLine" id="cb164-3" title="3"></a>
<a class="sourceLine" id="cb164-4" title="4">dat_long &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb164-5" title="5"><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="kw">c</span>(bf<span class="op">:</span>hr),</a>
<a class="sourceLine" id="cb164-6" title="6">               <span class="dt">names_to =</span> <span class="st">&quot;var&quot;</span>,</a>
<a class="sourceLine" id="cb164-7" title="7">               <span class="dt">values_to =</span> <span class="st">&quot;val&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb164-8" title="8"><span class="st">  </span><span class="kw">filter</span> (var <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;vco2&quot;</span>, <span class="st">&quot;vo2&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb164-9" title="9"><span class="st">  </span><span class="kw">mutate</span> (<span class="dt">var =</span> <span class="kw">factor</span> (var))</a>
<a class="sourceLine" id="cb164-10" title="10"></a>
<a class="sourceLine" id="cb164-11" title="11"><span class="co"># Map supp to colour</span></a>
<a class="sourceLine" id="cb164-12" title="12"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb164-13" title="13"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">colour =</span> var))</a>
<a class="sourceLine" id="cb164-14" title="14"></a>
<a class="sourceLine" id="cb164-15" title="15"><span class="co"># Map supp to linetype</span></a>
<a class="sourceLine" id="cb164-16" title="16"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb164-17" title="17"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">linetype =</span> var))</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-MULTI-LINE-COLOR-TYPE"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-MULTI-LINE-COLOR-TYPE-1.png" alt="A variable mapped to colour (left); A variable mapped to linetype (right)" width="50%" /><img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-MULTI-LINE-COLOR-TYPE-2.png" alt="A variable mapped to colour (left); A variable mapped to linetype (right)" width="50%" />
<p class="caption">
Figure 8.5: A variable mapped to colour (left); A variable mapped to linetype (right)
</p>
</div>
</div>
<div id="discussion-2" class="section level3">
<h3><span class="header-section-number">8.3.3</span> Discussion</h3>
<p>The <code>dat_long</code> data has three columns, including the factor <code>var</code>, which we mapped to <code>colour</code> and <code>linetype</code>:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb165-1" title="1">dat_long</a>
<a class="sourceLine" id="cb165-2" title="2"><span class="co">#&gt; # A tibble: 14 x 3</span></a>
<a class="sourceLine" id="cb165-3" title="3"><span class="co">#&gt;   stage var     val</span></a>
<a class="sourceLine" id="cb165-4" title="4"><span class="co">#&gt;   &lt;int&gt; &lt;fct&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb165-5" title="5"><span class="co">#&gt; 1     1 vo2   2053.</span></a>
<a class="sourceLine" id="cb165-6" title="6"><span class="co">#&gt; 2     1 vco2  1778.</span></a>
<a class="sourceLine" id="cb165-7" title="7"><span class="co">#&gt; 3     2 vo2   2222.</span></a>
<a class="sourceLine" id="cb165-8" title="8"><span class="co">#&gt; 4     2 vco2  1958.</span></a>
<a class="sourceLine" id="cb165-9" title="9"><span class="co">#&gt; 5     3 vo2   2402.</span></a>
<a class="sourceLine" id="cb165-10" title="10"><span class="co">#&gt; 6     3 vco2  2191.</span></a>
<a class="sourceLine" id="cb165-11" title="11"><span class="co">#&gt; # ... with 8 more rows</span></a></code></pre></div>
<blockquote>
<p><strong>Note</strong></p>
<p>If the <em>x</em> variable is a factor, you must also tell ggplot to group by that same variable, as described below.</p>
</blockquote>
<p>Line graphs can be used with a continuous or categorical variable on the x-axis. Sometimes the variable mapped to the x-axis is <em>conceived</em> of as being categorical, even when it’s stored as a number. In the example here, there are eight values of stage: 1, 2, 3, 4, 5, 6, 7, 8. You may want to treat these as categories rather than values on a continuous scale. To do this, convert <code>stage</code> to a factor (Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-MULTI-LINE-FACTOR">8.6</a>):</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" title="1"></a>
<a class="sourceLine" id="cb166-2" title="2"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb166-3" title="3"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span> (stage), <span class="dt">y =</span> val, <span class="dt">colour =</span> var, <span class="dt">group =</span> var))</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-MULTI-LINE-FACTOR"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-MULTI-LINE-FACTOR-1.png" alt="Line graph with continuous x variable converted to a factor" width="50%" />
<p class="caption">
Figure 8.6: Line graph with continuous x variable converted to a factor
</p>
</div>
<p>To convert a variable to a factor , see also Recipe <a href="WRANGLE.html#WRANGLE-CHARACTERS-2-FACTORS">6.10</a>.</p>
<p>Notice the use of <code>group = var</code>. Without this statement, ggplot won’t know how to group the data together to draw the lines, and it will give an error:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" title="1"></a>
<a class="sourceLine" id="cb167-2" title="2"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb167-3" title="3"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span> (stage), <span class="dt">y =</span> val, <span class="dt">colour =</span> var))</a>
<a class="sourceLine" id="cb167-4" title="4"></a>
<a class="sourceLine" id="cb167-5" title="5"><span class="co">#&gt; geom_path: Each group consists of only one observation. Do you need to</span></a>
<a class="sourceLine" id="cb167-6" title="6"><span class="co">#&gt; adjust the group aesthetic?</span></a></code></pre></div>
<p>Another common problem when the incorrect grouping is used is that you will see a jagged sawtooth pattern, as in Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-MULTI-LINE-SAWTOOTH">8.7</a>:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" title="1"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb168-2" title="2"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val)) <span class="op">+</span></a>
<a class="sourceLine" id="cb168-3" title="3"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">shape =</span> var),</a>
<a class="sourceLine" id="cb168-4" title="4">             <span class="dt">size =</span> <span class="dv">4</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-MULTI-LINE-SAWTOOTH"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-MULTI-LINE-SAWTOOTH-1.png" alt="A sawtooth pattern indicates improper grouping" width="50%" />
<p class="caption">
Figure 8.7: A sawtooth pattern indicates improper grouping
</p>
</div>
<p>This happens because there are multiple data points at each <em>y</em> location, and ggplot thinks they’re all in one group. The data points for each group are connected with a single line, leading to the sawtooth pattern. If any <em>discrete</em> variables are mapped to aesthetics like colour or linetype, they are automatically used as grouping variables. But if you want to use other variables for grouping (that aren’t mapped to an aesthetic), they should be used with group.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>When in doubt, if your line graph looks wrong, try explicitly specifying the grouping variable with group. It’s common for problems to occur with line graphs because ggplot is unsure of how the variables should be grouped.</p>
</blockquote>
<p>If your plot has points along with the lines, you can also map variables to properties of the points, such as shape and fill (Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-MULTI-LINE-SHAPE-FILL">8.8</a>):</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" title="1"></a>
<a class="sourceLine" id="cb169-2" title="2"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb169-3" title="3"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">shape =</span> var)) <span class="op">+</span></a>
<a class="sourceLine" id="cb169-4" title="4"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">shape =</span> var),</a>
<a class="sourceLine" id="cb169-5" title="5">             <span class="dt">size =</span> <span class="dv">4</span>)  <span class="co"># Make the points a little larger</span></a>
<a class="sourceLine" id="cb169-6" title="6"><span class="co">#&gt; Warning: Ignoring unknown aesthetics: shape</span></a>
<a class="sourceLine" id="cb169-7" title="7"></a>
<a class="sourceLine" id="cb169-8" title="8"></a>
<a class="sourceLine" id="cb169-9" title="9"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb169-10" title="10"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">fill =</span> var)) <span class="op">+</span></a>
<a class="sourceLine" id="cb169-11" title="11"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">fill =</span> var),</a>
<a class="sourceLine" id="cb169-12" title="12">             <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">shape =</span> <span class="dv">21</span>)  <span class="co"># Also use a point with a color fill</span></a>
<a class="sourceLine" id="cb169-13" title="13"><span class="co">#&gt; Warning: Ignoring unknown aesthetics: fill</span></a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-MULTI-LINE-SHAPE-FILL"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-MULTI-LINE-SHAPE-FILL-1.png" alt="Line graph with different shapes (left); With different colors (right)" width="50%" /><img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-MULTI-LINE-SHAPE-FILL-2.png" alt="Line graph with different shapes (left); With different colors (right)" width="50%" />
<p class="caption">
Figure 8.8: Line graph with different shapes (left); With different colors (right)
</p>
</div>
<p>Sometimes points will overlap. In these cases, you may want to <em>dodge</em> them, which means their positions will be adjusted left and right (Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-MULTI-LINE-DODGE">8.9</a>). When doing so, you must also dodge the lines, or else only the points will move and they will be misaligned. You must also specify how far they should move when dodged:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb170-1" title="1"></a>
<a class="sourceLine" id="cb170-2" title="2"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb170-3" title="3"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">shape =</span> var),</a>
<a class="sourceLine" id="cb170-4" title="4">            <span class="dt">position =</span> <span class="kw">position_dodge</span>(<span class="fl">0.2</span>)) <span class="op">+</span><span class="st">          </span><span class="co"># Dodge lines by 0.2</span></a>
<a class="sourceLine" id="cb170-5" title="5"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">fill =</span> var),</a>
<a class="sourceLine" id="cb170-6" title="6">             <span class="dt">position =</span> <span class="kw">position_dodge</span>(<span class="fl">0.2</span>), <span class="dt">size =</span> <span class="dv">4</span>) <span class="co"># Dodge points by 0.2</span></a>
<a class="sourceLine" id="cb170-7" title="7"><span class="co">#&gt; Warning: Ignoring unknown aesthetics: shape</span></a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-MULTI-LINE-DODGE"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-MULTI-LINE-DODGE-1.png" alt="Dodging to avoid overlapping points" width="50%" />
<p class="caption">
Figure 8.9: Dodging to avoid overlapping points
</p>
</div>
</div>
</div>
<div id="LINE-GRAPH-LINE-APPEARANCE" class="section level2">
<h2><span class="header-section-number">8.4</span> Changing the Appearance of Lines</h2>
<div id="problem-3" class="section level3">
<h3><span class="header-section-number">8.4.1</span> Problem</h3>
<p>You want to change the appearance of the lines in a line graph.</p>
</div>
<div id="solution-3" class="section level3">
<h3><span class="header-section-number">8.4.2</span> Solution</h3>
<p>The type of line (solid, dashed, dotted, etc.) is set with <code>linetype</code>, the thickness (in mm) with <code>size</code>, and the color of the line with <code>colour</code> (or <code>color</code>).</p>
<p>These properties can be set (as shown in Figure <a href="line-graphs.html#fig:FIG-BAR-GRAPH-BASIC-LINE-CUSTOMIZED">8.10</a>) by passing them values in the call to <code>geom_line()</code>:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" title="1"><span class="kw">ggplot</span>(dat) <span class="op">+</span></a>
<a class="sourceLine" id="cb171-2" title="2"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> vo2), </a>
<a class="sourceLine" id="cb171-3" title="3">            <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">size =</span> <span class="dv">1</span>, <span class="dt">colour =</span> <span class="st">&quot;blue&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-BAR-GRAPH-BASIC-LINE-CUSTOMIZED"></span>
<img src="se201_stats_book_files/figure-html/FIG-BAR-GRAPH-BASIC-LINE-CUSTOMIZED-1.png" alt="Line graph with custom linetype, size, and colour" width="50%" />
<p class="caption">
Figure 8.10: Line graph with custom linetype, size, and colour
</p>
</div>
<p>If there is more than one line, setting the aesthetic properties will affect all of the lines. On the other hand, <em>mapping</em> variables to the properties, as we saw in Recipe <a href="line-graphs.html#LINE-GRAPH-MULTIPLE-LINE">8.3</a>, will result in each line looking different. The default colors aren’t the most appealing, so you may want to use a different palette, as shown in Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-MULTI-LINE-PALETTE">8.11</a>, by using <code>scale_colour_brewer()</code> or <code>scale_colour_manual()</code>:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" title="1"></a>
<a class="sourceLine" id="cb172-2" title="2"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb172-3" title="3"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">colour =</span> var)) <span class="op">+</span></a>
<a class="sourceLine" id="cb172-4" title="4"><span class="st">  </span><span class="kw">scale_colour_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set1&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-MULTI-LINE-PALETTE"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-MULTI-LINE-PALETTE-1.png" alt="Using a palette from RColorBrewer" width="50%" />
<p class="caption">
Figure 8.11: Using a palette from RColorBrewer
</p>
</div>
</div>
<div id="discussion-3" class="section level3">
<h3><span class="header-section-number">8.4.3</span> Discussion</h3>
<p>To set a single constant color for all the lines, specify colour outside of <code>aes()</code>. The same works for size, linetype, and point shape (Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-MULTI-LINE-CONSTANT-AES">8.12</a>). You may also have to specify the grouping variable:</p>

<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" title="1"><span class="co"># If both lines have the same properties, you need to specify a variable to</span></a>
<a class="sourceLine" id="cb173-2" title="2"><span class="co"># use for grouping</span></a>
<a class="sourceLine" id="cb173-3" title="3"></a>
<a class="sourceLine" id="cb173-4" title="4"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb173-5" title="5"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">group =</span> var),</a>
<a class="sourceLine" id="cb173-6" title="6">            <span class="dt">colour =</span> <span class="st">&quot;darkgreen&quot;</span>, <span class="dt">size =</span> <span class="fl">1.5</span>) </a>
<a class="sourceLine" id="cb173-7" title="7"></a>
<a class="sourceLine" id="cb173-8" title="8"><span class="co"># Since supp is mapped to colour, it will automatically be used for grouping</span></a>
<a class="sourceLine" id="cb173-9" title="9"><span class="kw">ggplot</span>(dat_long) <span class="op">+</span></a>
<a class="sourceLine" id="cb173-10" title="10"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">colour =</span> var), <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="op">+</span><span class="st">  </span></a>
<a class="sourceLine" id="cb173-11" title="11"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> val, <span class="dt">colour =</span> var),<span class="dt">shape =</span> <span class="dv">22</span>, <span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">fill =</span> <span class="st">&quot;white&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-MULTI-LINE-CONSTANT-AES"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-MULTI-LINE-CONSTANT-AES-1.png" alt="Line graph with constant size and color (left); With supp mapped to colour, and with points added (right)" width="50%" /><img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-MULTI-LINE-CONSTANT-AES-2.png" alt="Line graph with constant size and color (left); With supp mapped to colour, and with points added (right)" width="50%" />
<p class="caption">
Figure 8.12: Line graph with constant size and color (left); With <code>supp</code> mapped to <code>colour</code>, and with points added (right)
</p>
</div>
<p>The range of different linetypes that is available can be seen in (Figure <a href="line-graphs.html#fig:FIG-LINETYPE-AES">8.13</a>)</p>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINETYPE-AES"></span>
<img src="images/chapter-7/linetype.png" alt="The different types of linetype you can use." width="50%" />
<p class="caption">
Figure 8.13: The different types of linetype you can use.
</p>
</div>
</div>
</div>
<div id="LINE-GRAPH-POINT-APPEARANCE" class="section level2">
<h2><span class="header-section-number">8.5</span> Changing the Appearance of Points</h2>
<div id="problem-4" class="section level3">
<h3><span class="header-section-number">8.5.1</span> Problem</h3>
<p>You want to change the appearance of the points in a line graph.</p>
</div>
<div id="solution-4" class="section level3">
<h3><span class="header-section-number">8.5.2</span> Solution</h3>
<p>In <code>geom_point()</code>, set the <code>size</code>, <code>shape</code>, <code>colour</code>, and/or <code>fill</code> outside of <code>aes()</code> (the result is shown in Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-POINT-PROPERTIES">8.14</a>):</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb174-1" title="1"><span class="kw">ggplot</span>(dat) <span class="op">+</span></a>
<a class="sourceLine" id="cb174-2" title="2"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> vo2)) <span class="op">+</span></a>
<a class="sourceLine" id="cb174-3" title="3"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> vo2), <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">shape =</span> <span class="dv">22</span>, <span class="dt">colour =</span> <span class="st">&quot;darkred&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;pink&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-POINT-PROPERTIES"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-POINT-PROPERTIES-1.png" alt="Points with custom size, shape, color, and fill" width="50%" />
<p class="caption">
Figure 8.14: Points with custom size, shape, color, and fill
</p>
</div>
</div>
<div id="discussion-4" class="section level3">
<h3><span class="header-section-number">8.5.3</span> Discussion</h3>
<p>The default shape for points is a solid circle, the default size is 2, and the default colour is black. The fill color is relevant only for some point shapes (numbered 21–25), which have separate outline and fill colors . The fill color is typically <code>NA</code>, or empty; you can fill it with white to get hollow-looking circles, as shown in Figure <a href="line-graphs.html#fig:FIG-LINE-GRAPH-POINT-WHITEFILL">8.15</a>:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" title="1"><span class="kw">ggplot</span>(dat) <span class="op">+</span></a>
<a class="sourceLine" id="cb175-2" title="2"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> vo2)) <span class="op">+</span></a>
<a class="sourceLine" id="cb175-3" title="3"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> stage, <span class="dt">y =</span> vo2), <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">shape =</span> <span class="dv">21</span>, <span class="dt">fill =</span> <span class="st">&quot;white&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-LINE-GRAPH-POINT-WHITEFILL"></span>
<img src="se201_stats_book_files/figure-html/FIG-LINE-GRAPH-POINT-WHITEFILL-1.png" alt="Points with a white fill" width="50%" />
<p class="caption">
Figure 8.15: Points with a white fill
</p>
</div>
<p>There are plethora of point types that is availabe in R, which you can see below (Figure <a href="line-graphs.html#fig:FIG-POINT-TYPES">8.16</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:FIG-POINT-TYPES"></span>
<img src="images/chapter-7/pointtype.png" alt="Point types available in R." width="50%" />
<p class="caption">
Figure 8.16: Point types available in R.
</p>
</div>
<p>If the points and lines have different colors, you should specify the points after the lines, so that they are drawn on top. Otherwise, the lines will be drawn on top of the points.</p>
</div>
</div>
<div id="LINE-GRAPH-APPEARANCE-THEME" class="section level2">
<h2><span class="header-section-number">8.6</span> Using Themes to Change Overall Appearance of Plot</h2>
<div id="problem-5" class="section level3">
<h3><span class="header-section-number">8.6.1</span> Problem</h3>
<p>You want to use premade themes to control the overall plot appearance.</p>
</div>
<div id="solution-5" class="section level3">
<h3><span class="header-section-number">8.6.2</span> Solution</h3>
<p>There are many premade themes that are already included in ggplot2. The default ggplot2 theme is <code>theme_grey()</code>, but the examples below also showcase <code>theme_bw()</code>, <code>theme_minimal()</code>, and <code>theme_classic()</code>.</p>
<p>To use a premade theme, add <code>theme_bw()</code> or another theme to your plot (Figure <a href="line-graphs.html#fig:FIG-APPEARANCE-THEME">8.17</a>):</p>

<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb176-1" title="1"><span class="kw">library</span>(gcookbook)  <span class="co"># Load gcookbook for the heightweight data set</span></a>
<a class="sourceLine" id="cb176-2" title="2"></a>
<a class="sourceLine" id="cb176-3" title="3"><span class="co"># Create the base plot</span></a>
<a class="sourceLine" id="cb176-4" title="4">hw_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(heightweight, <span class="kw">aes</span>(<span class="dt">x =</span> ageYear, <span class="dt">y =</span> heightIn)) <span class="op">+</span></a>
<a class="sourceLine" id="cb176-5" title="5"><span class="st">  </span><span class="kw">geom_point</span>()</a>
<a class="sourceLine" id="cb176-6" title="6"></a>
<a class="sourceLine" id="cb176-7" title="7"><span class="co"># Grey theme (the default)</span></a>
<a class="sourceLine" id="cb176-8" title="8">hw_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb176-9" title="9"><span class="st">  </span><span class="kw">theme_grey</span>()</a>
<a class="sourceLine" id="cb176-10" title="10"></a>
<a class="sourceLine" id="cb176-11" title="11"><span class="co"># Black-and-white theme</span></a>
<a class="sourceLine" id="cb176-12" title="12">hw_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb176-13" title="13"><span class="st">  </span><span class="kw">theme_bw</span>()</a>
<a class="sourceLine" id="cb176-14" title="14"></a>
<a class="sourceLine" id="cb176-15" title="15"><span class="co"># Minimal theme without background annotations</span></a>
<a class="sourceLine" id="cb176-16" title="16">hw_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb176-17" title="17"><span class="st">  </span><span class="kw">theme_minimal</span>()</a>
<a class="sourceLine" id="cb176-18" title="18"></a>
<a class="sourceLine" id="cb176-19" title="19"><span class="co"># Classic theme, with axis lines but no gridlines</span></a>
<a class="sourceLine" id="cb176-20" title="20">hw_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb176-21" title="21"><span class="st">  </span><span class="kw">theme_classic</span>()</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-APPEARANCE-THEME"></span>
<img src="se201_stats_book_files/figure-html/FIG-APPEARANCE-THEME-1.png" alt="Scatter plot with theme_grey() (the default, top left); with theme_bw() (top right); with theme_minimal() (bottom left); with theme_classic() (bottom right)" width="50%" /><img src="se201_stats_book_files/figure-html/FIG-APPEARANCE-THEME-2.png" alt="Scatter plot with theme_grey() (the default, top left); with theme_bw() (top right); with theme_minimal() (bottom left); with theme_classic() (bottom right)" width="50%" /><img src="se201_stats_book_files/figure-html/FIG-APPEARANCE-THEME-3.png" alt="Scatter plot with theme_grey() (the default, top left); with theme_bw() (top right); with theme_minimal() (bottom left); with theme_classic() (bottom right)" width="50%" /><img src="se201_stats_book_files/figure-html/FIG-APPEARANCE-THEME-4.png" alt="Scatter plot with theme_grey() (the default, top left); with theme_bw() (top right); with theme_minimal() (bottom left); with theme_classic() (bottom right)" width="50%" />
<p class="caption">
Figure 8.17: Scatter plot with <code>theme_grey()</code> (the default, top left); with <code>theme_bw()</code> (top right); with <code>theme_minimal()</code> (bottom left); with <code>theme_classic()</code> (bottom right)
</p>
</div>
<p>Another theme included in ggplot2 is <code>theme_void()</code>, which makes all plot elements blank and only shows your data (Figure <a href="line-graphs.html#fig:FIG-APPEARANCE-THEME-VOID">8.18</a>. This is especially useful if you don’t want any default theme settings, and instead want a blank slate on which to choose your own theme elements.</p>

<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" title="1">hw_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb177-2" title="2"><span class="st">  </span><span class="kw">theme_void</span>()</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:FIG-APPEARANCE-THEME-VOID"></span>
<img src="se201_stats_book_files/figure-html/FIG-APPEARANCE-THEME-VOID-1.png" alt="Scatter plot with theme_void()" width="50%" />
<p class="caption">
Figure 8.18: Scatter plot with <code>theme_void()</code>
</p>
</div>
</div>
<div id="discussion-5" class="section level3">
<h3><span class="header-section-number">8.6.3</span> Discussion</h3>
<p>Some commonly used properties of theme elements in ggplot2 are those things that are controlled by <code>theme()</code>. Most of these things, like the title, legend, and axes, are outside the plot area, but some of them are inside the plot area, such as grid lines and the background coloring.</p>
<p>Besides the themes included in ggplot2, it is also possible to create your own.</p>
<p>You can set the base font family and size with either of the included themes (the default base font family is Helvetica, and the default size is 12):</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" title="1">hw_plot <span class="op">+</span></a>
<a class="sourceLine" id="cb178-2" title="2"><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dt">base_size =</span> <span class="dv">16</span>, <span class="dt">base_family =</span> <span class="st">&quot;Times&quot;</span>)</a></code></pre></div>
<p>You can set the default theme for the current R session with <code>theme_set()</code>, although it’s generally not a good idea to set options globally because it may affect other plots that are unrelated to your current project:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" title="1"><span class="co"># Set default theme for current session</span></a>
<a class="sourceLine" id="cb179-2" title="2"><span class="kw">theme_set</span>(<span class="kw">theme_bw</span>())</a>
<a class="sourceLine" id="cb179-3" title="3"></a>
<a class="sourceLine" id="cb179-4" title="4"><span class="co"># This will use theme_bw()</span></a>
<a class="sourceLine" id="cb179-5" title="5">hw_plot</a>
<a class="sourceLine" id="cb179-6" title="6"></a>
<a class="sourceLine" id="cb179-7" title="7"><span class="co"># Reset the default theme back to theme_grey()</span></a>
<a class="sourceLine" id="cb179-8" title="8"><span class="kw">theme_set</span>(<span class="kw">theme_grey</span>())</a></code></pre></div>
</div>
</div>
<div id="LINE-GRAPH-LEARNING-CHECK" class="section level2">
<h2><span class="header-section-number">8.7</span> Learning check</h2>
<ol style="list-style-type: decimal">
<li><p>From your learning check in <a href="CHAPTER-BAR-GRAPH.html#BAR-LEARNING-CHECK">7.8</a>, open up your <code>practice_script.R</code>.</p></li>
<li><p>Import the Excel file <code>data/treadmill_pt4_clean.xlsx</code>, and the sheet <code>Sheet1</code>, and assign it to an object <code>dat</code>. See Recipe <a href="InputOuput.html#INPUT-IMPORT">5.2</a>.</p></li>
<li><p>Create another dataset, <code>dat_summ</code>, and create another variable called <code>stage</code>, where you create intervals of stage each of 3:30min intervals. See Recipe <a href="WRANGLE.html#WRANGLE-NUMERIC-CATEGORY">6.5</a>.</p></li>
<li><p>Using the data <code>dat_summ</code>, keep the interval of 2:30 to 3:00min of data at each stage of VO2 testing. See Recipe <a href="WRANGLE.html#WRANGLE-SUMMARIZE-GROUPBY">6.14</a>.</p></li>
<li><p>From step 5, find the mean of each 30s of data of each stage, across all variables. See Recipe <a href="WRANGLE.html#WRANGLE-SUMMARIZE-GROUPBY">6.14</a>.</p></li>
<li><p>Make a line plot with with <code>vo2</code> as the <em>x</em> axis, and <code>vo2</code> as the <em>y</em> axis. See Recipe <a href="line-graphs.html#LINE-GRAPH-BASIC-LINE">8.1</a>.</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="CHAPTER-BAR-GRAPH.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="your-assignment.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["se201_stats_book.pdf", "se201_stats_book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
